\documentclass[12pt, titlepage]{article}

\usepackage{longtable}
\usepackage[utf8]{inputenc}
\usepackage{fullpage}
\usepackage{amsmath, mathtools}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{colortbl}
\usepackage{xr}
\usepackage{xr-hyper}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{tabularx}
\usepackage{float}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage{caption}
\usepackage{pdflscape}
\usepackage{fixltx2e}
\usepackage{afterpage}
\usepackage{seqsplit}
\usepackage{underscore}
\usepackage{lscape}
\usepackage[english]{babel}
\usepackage[T1]{fontenc}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{nameref}
\usepackage{enumitem}


% checklist
\newlist{todolist}{itemize}{3}
\setlist[todolist]{label=$\square$}


\hypersetup{
    colorlinks,
    citecolor=blue,
    filecolor=black,
    linkcolor=red,
    urlcolor=blue
}
\usepackage[round]{natbib}
\MakeRobust{\ref}% avoid expanding it when in a textual label

\makeatletter
\newcommand{\labeltext}[2]{%
  \@bsphack
  \csname phantomsection\endcsname % in case hyperref is used
  \def\@currentlabel{#1}{\label{#2}}%
  \@esphack
}

% external references
\input{../Comments}
\input{../Common}
\externaldocument{../DevelopmentPlan/DevelopmentPlan}
\externaldocument{../HazardAnalysis/HazardAnalysis}
\externaldocument{../SRS/SRS}
\externaldocument{../Design/SoftArchitecture/MG}

\begin{document}

\title{Project Title: System Verification and Validation Plan for \progname{}} 
\author{\authname}
\date{\today}
	
\maketitle

\pagenumbering{roman}

\section{Revision History}

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
November 3, 2022 & 1.0 & Initial Revision \\
\bottomrule
\end{tabularx}
\end{table}

\newpage

\tableofcontents

\listoftables

\listoffigures

\newpage

\section{Symbols, Abbreviations and Acronyms}
  
See where \nameref{DefTable}

\newpage

\pagenumbering{arabic}

\section{General Information}

The Verification and Validation (VnV) Plan outlines the various methods that the team will conduct to verify and validate the ParkingLotHawk. The general overview of the plan can be found in \nameref{vnvPlan}, with detailed tests outlined within \nameref{systemTest} and \nameref{unitTest}.

\subsection{Summary}

The ParkingLotHawk is an autonomous aerial drone that helps parking lot operators understand the state of their parking lot. The drone shall be able of full autonomy, where it automatically explores the parking lot, or by semi-autonomy, where the operator specifies the locations that the drone should go to. During flight, the drone shall transmit live information about the parking lot sections it detects, and display this information to the operator. 

\subsection{Objectives}

There are multiple objectives to be accomplished for the proper operation of the drone. The following objectives will mainly focus on the most important qualities of the objectives:

\begin{itemize}
    \item Software Algorithm Correctness: The drone should be able to operate according to its specifications, and the application to be used by the operators should be able to accurately relay the commands to the drone.
    \item Hardware Correctness: The components of the drone functions properly according to their intended purpose and with minimal to no errors.
    \item State Machine Implementation: Control events exist and are correct for the various components of the drone in order to operate those specific parts individually.
    \item Operator's PC and Drone Communication: The components on the drone can accurately communicate with the operator application and the communication is functional during the entire time that the drone is functioning within the parking lot.
    \item Safety Features: The drone has a backup or failsafe code in the situation where any of its parts are malfunctioning or prior to the malfunction.
    \item Ease of Use: The operator should be able to properly understand how to operate the drone from the application, under the assumption that they only have basic knowledge of operating computers.
\end{itemize}

\subsection{Relevant Documentation}

In the remaining portion of the document, there will be various sources of information that will help verify the process for the product. The major sources will include the reference of the \href{https://github.com/icecap360/DroneCapstone/blob/master/docs/SRS/SRS.pdf}{SRS} and \href{https://github.com/icecap360/DroneCapstone/blob/master/docs/HazardAnalysis/HazardAnalysis.pdf}{HA} documents for the requirements, and the \href{https://github.com/icecap360/DroneCapstone/blob/master/docs/Design/MG/MG.pdf}{MG} and \href{https://github.com/icecap360/DroneCapstone/blob/master/docs/Design/MIS/MIS.pdf}{MIS} documents for the design.

\section{Plan}
\label{vnvPlan}

This section outlines the various methods that the team will use to verify and validate the components of the system. This includes verifying the SRS, design, VnV plan, and implementation. Automated testing and verification tools will also be presented to aid in the iterative verification process. Finally, methods for validating that the system solves the problem will be presented.

\subsection{Verification and Validation Team}

The members of the team are assigned an area of testing, where the area of testing is not their area of expertise. This ensures that the creator and tester are not the same person, which eliminates the bias that occurs when testing their own components. The assigned person to the testing area are then responsible for managing all tests in that domain. In the cases where a test covers multiple domains, the test will be conducted in a joint manner between the different domains. The assignment of the testing areas are indicated within \nameref{VnV_Team}.
  
\begin{table}[!h]
\begin{center}
\caption {Verification and Validation Team}
\label{VnV_Team}
\begin{tabular}{ | m{3cm} | m{3cm} | m{8cm} | }
\hline
Role & Name & Description \\
\hline
 Visual Perception and Path Planning & Fady & Verifies that the visual perception and autonomous exploration algorithm is performing within specifications. \\
\hline
Drone Finite State Machine (FSM) and Communication & Ali & Verifies that all communication between the drone components and the drone to the Operator's application are working correctly. \\
\hline
Mechanical Testing & Zaid & Verifies that all physical components and the dynamics are working within specifications. \\
\hline
Operator's Application & Winnie & Verifies that the Operator's application and user manual meet the specifications outlined.
\\
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsection{SRS Verification Plan}
\label{SRSVerification}

To verify the SRS, both formal and informal processes will be conducted. To test the completeness of the FSM, a formal decision table shall be created and maintained. This process ensures that all transitions and external stimuli are accounted for, in addition to identifying any states that cannot be reached or cannot be exited. The initial decision table has already been created within the SRS, located in \nameref{appendixb}. To verify that the decision table is accurate as the project progresses, this table will be updated with any changes to the FSM. 

To informally verify the other components of the SRS, guided reviews and a checklist shall be conducted. The guided review will consist of the team explaining the Functional Requirements to a technical external party, and the external party will list any potential NFRs that are related to the FR. The team shall then ensure that the NFR is present within the SRS. Furthermore, the team shall have other capstone groups review the SRS using the provided rubric as guidelines for the review. The last method is to conduct a checklist, conducted either internally within the team or by an external party. The checklist is as follows: 

\begin{todolist}
\label{SRS_Checklist}
\item For each requirement within the SRS, are the following met?
\begin{todolist}
    \item Does the requirement address a specific goal?
    \item Is the requirement unique? 
    \item Is the requirement abstract?
    \item Is the requirement traceable?
    \item Is the requirement complete?
    \item Is the requirement measurable?
    \item Are there no inputs that are not used in the determination of the output? 
    \item Does each output use at least one input, and are all required inputs listed?
\end{todolist}
\item Does the Finite State Machine comply with the following?
\begin{todolist}
    \item Are all states unique?
    \item Are all states complete, and should not be combined or split into multiple states?
    \item Are all error states included?
    \begin{todolist}
        \item Are all data exceptions accounted for?
        \item Are error logging and recovery mechanisms present?
    \end{todolist}
    \item Are all transitions mutually exclusive?
    \item Are all state names meaningful and representative of the state?
\end{todolist}
\end{todolist}

\subsection{Design Verification Plan}

The team plans to verify the design through structured review processes and a checklist. The review shall consist of the team explaining the product and design to an external party, and providing the external party with the FRs. They will then ensure that all the FRs are met, by using the checklist as a reference. The checklist is as follows, with additional detail on the requirements available in \nameref{sec:funcReqs}: 

\begin{todolist}
\label{Design1_Checklist}
\item Does the design implement all the general function requirements listed below?
\begin{todolist}
    \item The product shall be able to recognize Clear Boundaries.
    \item The product shall provide live update of c\_CurrentLoc, c\_CurrentView and c\_OccupancyMap during all normal and non-configurational operation states.
    \item The product shall allow the operator to configure the i\_MinHoverHeight, i\_MaxHoverHeight, and i\_DesiredHoverHeight.
    \item The condition i\_MinHoverHeight <= i\_DesiredHoverHeight <= i\_MaxHoverHeight shall always be true.
    \item The product shall be able to identify non-occupied parking spots.
    \item The product shall be shall highlight non-occupied parking slots on the operator's display (update c_CurrentView).
\end{todolist}
\item Does the design implement all the state implementation requirements listed below?
\begin{todolist}
    \item The product shall implement an Idle state.
    \item The product shall implement a Hover State.
    \item The product shall implement an Autonomous Move State.
    \item The product shall implement an Autonomous Explore State.
    \item The product shall implement a Configure state.
    \item The product shall implement an Off state.
    \item The product shall implement a Land state.
    \item The product shall implement a Desired Location Error state.
    \item The product shall implement a No Parking Lot Detected Error state.
    \item The product shall implement a Malfunction state.
    \item The product shall implement a Communication Lost state.
    \item The product shall implement a Compulsive Move State.
\end{todolist}
\item Does the design implement all the state transition requirements listed below?
\begin{todolist}
    \item Upon the m\_PowerOn becoming false, the drone shall enter the Off state.
    \item Upon the m\_PowerOn becoming true, the drone shall enter the Idle state.
    \item Upon the m\_Launch becoming true, the drone shall enter the Hover state if the i\_Mode was set to normal, and enters the Configure state if the i\_Mode was set to configure.
    \item If in the Hover state, and c\_ParkingLotDetected is equal to true, the product shall enter the Autonomous Explore state and explore the detected lot.
    \item Once the user enters or changes m\_DesiredUserLoc and m\_CompulsiveMove is asserted as false, the drone shall automatically enter the Autonomous Move state.
    \item If while in the Autonomous Move state and the product determines that m\_DesiredUserLoc is outside parking lot boundaries, the product shall enter the Desired Location Error state.
    \item When m\_AutonomousExplore is set to true and c\_ParkingLotDetected is equal to true, the product shall enter the Autonomous Explore state.
    \item When m\_AutonomousExplore is set to true but c\_ParkingLotDetected is equal to false, the product shall enter the No Parking Lot Detected Error state.
    \item Upon m\_Land being true, the product shall enter the Land state.
    \item If c\_Connected becomes false for more than 5 seconds, or signal strength (dBm) has lost 80\% of its typical value at any point during operation, then the product shall enter the Communication Lost state.
    \item If while in the Communication Lost State, c\_Connected becomes true for more than 5 seconds, or signal strength (dBm) has returned to 50\% of its typical value at any point during operation, then the product shall enter the Hover state.
    \item Once the user enters or changes m\_DesiredUserLoc and m\_CompulsiveMove is asserted as true, the drone shall automatically enter the Compulsive Move state.
\end{todolist}
\end{todolist}

Internally within the team, a more detailed checklist shall be conducted that includes all the requirements listed within the SRS. To exclude any biases from the creator of the modules, the creator and tester will not be the same when conducting this review. Therefore, the members listed within \label{VnV_Team} will be responsible for reviewing the requirements within their section. This ensures that all the requirements are accounted for within the design. The full checklist consists of the checklist above, in addition to the following: 

\begin{todolist}
\label{Design2_Checklist}
\item Does the design implement all the performance requirements listed below?
\begin{todolist}
    \item The product shall explore up to 1400 $m^2$ of the detected parking lot during the Autonomous Explore State.
    \item The product shall takeoff to i\_MaxHoverHeight and land from i\_MaxHoverHeight within 25 seconds.
    \item The product shall move to a specified location with an average speed exceeding 4km/hour.
    \item The product shall transmit all data to the operator at a rate exceeding 0.5 frames per second.
    \item The product shall maintain a longitudinal and lateral position within a 1.5m radius during the Hover State.
    \item While the product is not hovering (moving from one location to another), it shall always maintain an altitude between i\_MaxHoverHeight and i\_MinHoverHeight, within a tolerance of ±5\%.
    \item The product shall be operable within requirements within non-inclement weather.
    \item The product shall maintain a longitudinal and lateral position within a 1.5m radius once the product has reached m\_DesiredUserLoc while in the Autonomous Move State or Compulsive Move State.
\end{todolist}
\item Does the design implement all the design constraints listed below?
\begin{todolist}
    \item The product shall cost less than \$750 to manufacture.
\end{todolist}
\item Does the design implement all the standards and compliance requirements listed below?
\begin{todolist}
    \item The product shall weigh a total of less than 25kg.
    \item The product shall use radio communication only within the 2.4 GHz or 900 MHz range.
\end{todolist}
\item Does the design implement all the security requirements listed below?
\begin{todolist}
    \item The operator's application shall only be launched by a user with authorized access.
    \item The product shall not upload any gathered data to any external parties.
\end{todolist}
\item Does the design implement all the maintainability requirements listed below?
\begin{todolist}
    \item The product shall be fully recharged within 1 hour.
    \item The product shall be able to sustain a fall of greater than 1m without sustaining damage that affects operation performance.
    \item The product shall be mechanically waterproof, to the point it can sustain a light drizzle for 1 minute of operation while still performing within the requirements.
\end{todolist}
\item Does the design implement all the safety requirements listed below?
\begin{todolist}
    \item The product shall not influence or interact with dynamic actors positioned in the parking lot.
    \item The product shall not allow the operator to set i\_MaxHoverHeight, i\_MinHoverHeight, or i\_DesiredHoverHeight to be below 7m.
    \item The product shall not require the operator to physically manipulate the product in any way in any state outside of Off State.
    \item The product shall not cause distractions or negatively impact greater than 2\% of the visitors in the parking lot.
    \item The product shall include a mechanical Off switch to the product.
\end{todolist}
\item Does the design implement all the usability requirements listed below?
\begin{todolist}
    \item The product shall provide a visual trace of its location for the past 60 seconds +- 1 second.
    \item The product shall allow the operator to save the current visual and raw data into a folder.
    \item The product shall be able to operate and provide data to the operator for > 5 minutes without the need to recharge.
    \item The product shall require less than 2 hours of training for the operator to use.
    \item The product shall display the current state to the Operator's PC Application.
\end{todolist}
\end{todolist}

\subsection{Verification and Validation Plan Verification Plan}

The Verification and Validation Plan shall be verified through an informal peer review process and a checklist. The peer review shall be conducted by another technical Capstone group and will use the provided rubric as a guideline. The checklist can then be conducted either internally within the team, or by an external party. The checklist is as follows, and ensures that all components of the VnV Plan are present: 

\begin{todolist}
\label{VnV_Checklist}
\item Are methods outlined to verify the SRS and the requirements within it?
\begin{todolist}
    \item Are all requirements covered by system tests?
\end{todolist}
\item Are methods outlined to verify the design?
\item Are methods outlined to verify the implementation of the design?
\item Are automated testing and verification tools clearly outlined and feasible?
\item Are methods outlined to validate the design and ensure that it solves the problem statement?
\item Are all methods outlined in the VnV Plan feasible, given the current resources available for VnV?
\item Is there traceability between the test plans and the requirements?
\item Are tests outlined specifically and clearly, such that they can be reproduced by an external party?
\end{todolist}


\subsection{Implementation Verification Plan}

The implementation shall be verified primarily by the tests outlined within \nameref{systemTest}. These sections include a combination of static, dynamic, and stress tests to ensure that the system is meeting the requirements of the system. Furthermore, the team shall conduct a code walkthrough for the FSM implementation. Conducted within the team, the implementor of the FSM shall provide the code used, and explain the state and transitions implemented. Using just the code, the team shall then recreate the entire FSM model as shown within the SRS at [here]. This process ensures that the implementation of the FSM matches the required FSM exactly.  

The team shall also conduct code reviews of the changes before the changes are merged into the master branch within GitHub. This ensures that a peer review process is implemented as part of the GitHub management system and that the changes are correct. In addition to the code walkthroughs, automated testing and verification tools shall also be used to verify the implementation of the system, as outlined within \nameref{automatedVerificationTools}. 


\subsection{Automated Testing and Verification Tools}
\label{automatedVerificationTools}

The team shall implement a variety of tools to automate the testing and verification process. Discussed upon within the \nameref{sec:codingStandard}, the team shall use a common IDE within the team, with integrated linters for both Python and C++. This ensures that static analyzers and coding standards are implemented automatically by the IDE and linter. A unit testing framework shall also be used to aid in the testing of the modules. Due to the usage of ROS within the product, the team shall use GTest for C++ modules, UnitTest for Python modules, and RosTest for ROS specific modules and communication. These three frameworks directly integrate within the ROS workflow, allowing for automatic execution of these tests during the compilation of the ROS packages. To further aid in the compilation of the various ROS packages, CMake shall be used to automate and simplify the compilation process. In addition to these tools, the team shall also produce a custom testing framework to test the visual perception algorithms. The custom tool shall automate the process of feeding in hardcoded input images into the algorithm, and record the algorithm outputs within a CSV file for easy manipulation and analysis of the outputs. 

\subsection{Software Validation Plan}

The system shall be verified by two main methods. A guided review process shall be conducted by an external party, where the team provides and explains the FRs to the external party. They will then determine what the problem statement is, without the actual problem statement being provided by the team. This ensures that the SRS solves the given problem. To verify that the SRS has been met, the \nameref{SRSVerification} will be used. To further test the functionality of the visual perception, open source datasets shall be used, in addition to the testing methods outlined within \nameref{automatedVerificationTools}. Two open source datasets will be used: the \href{https://www.kaggle.com/datasets/blanderbuss/parking-lot-dataset}{Blanderbuss dataset} and the \href{http://cnrpark.it/}{CNRPark dataset}. Sample images of these datasets are shown within Figures \ref{BlanderbussSample} and \ref{CNRParkSample}. These datasets will then verify the performance of the system with regards to the parking lot detection and occupancy in a variety of different conditions.  

\begin{figure}[h!]
  \begin{center} 
  \caption{Blanderbuss Dataset Sample}
  \label{BlanderbussSample}
        \includegraphics[width=1\textwidth]{VnVPlan/BlanderbussDataset.png}
  \end{center}
\end{figure}

\begin{figure}[h!]
  \begin{center} 
  \caption{CNRPark Dataset Sample}
  \label{CNRParkSample}
        \includegraphics[width=1\textwidth]{VnVPlan/CNRParkDataset.png}
  \end{center}
\end{figure}

\clearpage

\subsection{Software in The Loop Testing}
\label{subsec:sitl}

In conjuncture with unit testing the modules and performing tests on the physical drone, a Software in The Loop (SITL) environment is created to replace the physical drone during testing. The software running on the drone and within SITL is exactly the same, ensuring that a test passed within SITL testing will pass on the physical drone.

The SITL environment replaces the physical drone only, thus all communication methods between the Operator's PC and the drone, and software for the Operator's Application and drone are not affected. This is accomplished through establishing a Gazebo and ROS connection, where Gazebo is a 3D physics simulation platform. An example of this Gazebo and the entire environment is shown within Figures \ref{fig:gazebo} and \ref{fig:sitlEnv}.

\begin{figure}[h!]
  \begin{center} 
  \caption{Gazebo Environment}
  \label{fig:gazebo}
        \includegraphics[width=1\textwidth]{VnVPlan/gazebo.png}
  \end{center}
\end{figure}

\begin{figure}[h!]
  \begin{center} 
  \caption{SITL Environment Including a Satellite Map and Console}
  \label{fig:sitlEnv}
        \includegraphics[width=1\textwidth]{VnVPlan/SITLEnv.png}
  \end{center}
\end{figure}

\clearpage

The key difference between testing within SITL and with the physical drone is that the drone's flight performance are not involved. In many cases, this is an advantage as it increases the ease of testing and reduces the risk involved if a failed test occurs. Furthermore, custom environments can be created within Gazebo, offering increased flexibility in testing the visual perception. However, the SITL environment and the real world does not translate exactly, thus lowering the confidence in the test result. Nonetheless, the SITL environment is used for many test cases in the proceeding sections if the team is unable to test it with the physical drone.

\section{System Test Description}
\label{systemTest}
The proceeding section outlines detailed system tests that verify the implementation of the system.

\subsection{Measuring Outputs Testing}

There are several ways to measure the output variables. Some suggestions are given in the following section. 

In general, given that all output variables can be viewed using the Operator's Application, this is perhaps the easiest source to measure the drone's response. There are special systems and unit tests to verify if the Operator's Application is correctly displaying/gathering the output variable.

Another method of viewing output variables is to print and store the output variables in log files within the onboard drone computer's file system. They can then be collected or sent to the Operator's PC to analyze the logs later.

To collect time statistics, either the timer on the embedded computer can be used and printed in log files, or one can use an external manual timer.

For all test cases, to measure location and height, the GPS location and height displayed on the Operator's PC Application can be used, except for the Flight Dynamics Tests \ref{flightdynamicsTests}, in these scenarios an external location and height measurement tool must be used. Examples to measure lateral location include adding an external and light GPS to the drone or walking underneath the drone with an external GPS (like the ones on smart phones). To measure height one may use marks on a wall, or even attach a rope to the drone.

\subsection{Assumptions Regarding Test Cases}
Unless otherwise stated, the test case requires that there is enough battery to complete the test case.
Unless the creation of special stubs is specified, the drone is assumed to be complete mechanically, electrically, and software-wise. 

\subsection{Tests for Functional Requirements}

The test cases were designed to for coverage over all the requirements that needed testing for verification. Requirements are grouped into the system component that is most difficult or most central to the task. However there is overlap between the test case categories, for example, the User Error Test Cases \ref{usererrorTests} utilize the Visual Perception component to make decisions/transitions.

\subsubsection{Flight Dynamics}
\label{flightdynamicsTests}

\begin{table}[!h]
\begin{center}
\caption {STC\_001}
\label{tab:STC_001}
\begin{tabular}{ | m{1.5cm} | m{15cm} | } 
\hline
ID & \nameref{tab:STC_001} \\ 
\hline
Control & Manual \\ 
\hline
Initial State & The product is in its Off state. \\ 
\hline
Input & Enter the configure state and set \ref{Indoor_Hover_Params}. Afterwards, launch the drone in normal operation and wait for 1 min. \\ 
\hline
Output & The drone should take less than 25 seconds to reach and hover within 1 +- 0.5 m from the moment the drone launches. While hovering, the drone should laterally stay within a 1.5 m radius of the launch location. \\ 
\hline
How test will be performed & A stub must be created in the code to suppress the requirement of the hover parameters being at least \ref{Min_Hover_Params}, as indoor conditions permit only a much lower flight height. 

The first step of the test, configuring height parameters, is accomplished by:
\begin{enumerate}[topsep=0pt,itemsep=-1ex,partopsep=1ex,parsep=1ex]
    \item Setting the input i\_Mode as Configure and turning the power switch of the drone to On.
    \item Assert m\_Launch, so the drone enters the Configure state.
    \item Setting the height parameters in the Operator's PC Application to \ref{Indoor_Hover_Params}.
\end{enumerate}
The second step of the drone, having the drone enter and stay within the hover state, is accomplished by:
\begin{enumerate}[topsep=0pt,itemsep=-1ex,partopsep=1ex,parsep=1ex]
	\item Turning the power switch on the drone off. Then set i\_Mode as Normal and turn the power switch on, so the drone enters Idle state.
	\item Placing the drone in a non-parking lot area. 
	\item Asserting m\_Launch as true, then wait for 25 sec.
	\item Wait for 35 sec. During this wait measure the output variables.
\end{enumerate}
Once the output variables have been measured and the test is complete, assert m_Land to true so the drone transitions to the land state.\\ 
\hline
Test case derivation & As per SRS, while in the Hover state, the drone will enter the Autonomous Explore state if it sees a parking lot. The purpose of placing the drone in a non-parking lot area was to keep the drone in the Hover state rather than entering the Autonomous Explore state.

While hovering the drone should stay within a 1.5 m radius laterally, without the presence of any external forces such as wind.
 \\ 
\hline
Purpose of test and/or relationship to other tests &  • Assesses and verifies the that drone is able to fly. An indoor scenario, was selected because to minimize the influence of gusts and winds of outdoors.

Verifies the states Off, Idle, Hover, Configure, and Land as well as the transitions between them (\nameref{STA_000}, \nameref{STA_001}, \nameref{STA_004}, \nameref{STA_005}, \nameref{STA_006}, \nameref{TRANS_002}, \nameref{TRANS_003}, \nameref{TRANS_009}). 
Verifies a corner case in the parking lot detection algorithm where it correctly detects no parking lot when there is no parking lot.
Verifies the NFR requiring the product to take off to i\_MaxHoverHeight within 25 seconds (\nameref{PERF_002}).
Verifies configuring the height variables (\nameref{GEN_003}, \nameref{GEN_004}).
\\ 
\hline
\end{tabular}
\end{center}
\end{table}

\begin{table}[!h]
\begin{center}
\caption {STC\_002}
\label{tab:STC_002}
\begin{tabular}{ | m{1.5cm} | m{15cm} | } 
\hline
ID & \nameref{tab:STC_002} \\ 
\hline
Control & Manual \\ 
\hline
Initial State & The product is in its Off state. \\ 
\hline
Input & Turn on the Drone, and leave it in the Idle state. Attempt to set the configuration parameters to \ref{Invalid_Hover_Params1}, then attempt to set the height parameters to \ref{Invalid_Hover_Params2}.  \\
\hline
Output & Both attempts to set the Hover Parameters should fail. \\ 
\hline
How the test will be performed & 
The first step of the test, configuring height parameters, is accomplished by:
\begin{enumerate}[topsep=0pt,itemsep=-1ex,partopsep=1ex,parsep=1ex]
    \item Setting the input i\_Mode as Configure and turning the power switch of the drone to On.
    \item Set the height parameters in the Operator's PC Application to \ref{Invalid_Hover_Params1}.
    \item Assert m\_Launch, so the drone enters the Configure state.
    \item Set the height parameters in the Operator's PC Application to \ref{Invalid_Hover_Params2}.
    \item Assert m\_Launch, so the drone enters the Configure state.
\end{enumerate}
Once the output variables have been measured and the test is complete:
Assert m\_Land to true so that drone will enter the land state.\\ 
\hline
Test case derivation & As per SRS, the smallest possible height parameters are \ref{Min_Hover_Params}, thus an attempt to set them smaller, such as \ref{Invalid_Hover_Params1}, should fail and return an error to the user. 
As per SRS, the i\_MaxHoverHeight must be bigger than i\_MinHoverHeight, violating this contains, as in  \ref{Invalid_Hover_Params1}, should fail and return an error to the user.
\\ 
\hline
Purpose of test and/or relationship to other tests & This verifies that the configure state can change flight parameters in accordance with the restrictions specified in the SRS (\nameref{SAFE_002}, \nameref{GEN_004}). \\
\hline
\end{tabular}
\end{center}
\end{table}

\begin{table}[!h]
\begin{center}
\caption {STC\_003}
\label{tab:STC_003}
\begin{tabular}{ | m{1.5cm} | m{15cm} | } 
\hline
ID & \nameref{tab:STC_003}  \\ 
\hline
Control & Manual\\ 
\hline
Initial State & The product is in its Off state.
 \\ 
\hline
Input & Enter the configure state and set the hover height parameters to be \ref{Med_Hover_Params}. Afterward, launch the drone in normal operation and wait for 1 min 25 sec. \\ 
\hline
Output & The drone should take less than 25 seconds to reach and hover within 7+-1.5 m from the moment the drone launches. While hovering, the drone should laterally stay within a 1.5 m radius of the launch location, and it should stay within 18.5m and 21.5m above the ground at all times. 
 \\ 
\hline
How test will be performed &
The first step of the test, configuring height parameters, is accomplished by:
\begin{enumerate}[topsep=0pt,itemsep=-1ex,partopsep=1ex,parsep=1ex]
    \item Setting the input i\_Mode as Configure and turning the power switch of the drone to On.
    \item Assert m\_Launch, so the drone enters the Configure state.
    \item Setting the height parameters in the Operator's PC Application to \ref{Med_Hover_Params}.
\end{enumerate}
The second step of the drone, having the drone enter and stay within the hover state, is accomplished by:
\begin{enumerate}[topsep=0pt,itemsep=-1ex,partopsep=1ex,parsep=1ex]
	\item Turning the power switch on the drone off. Then set i\_Mode as Normal and turn the power switch on, so the drone enters Idle state.
	\item Placing the drone in a non-parking lot area. 
	\item Asserting m\_Launch as true, then wait for 25 sec.
	\item Wait for 1 min. During this wait measure the output variables.
\end{enumerate}
Once the output variables have been measured and the test is complete:
Assert m\_Land to true, so that drone will enter the land state.\\ 
\hline
Test case derivation & As per SRS, the drone should take less than 25 seconds to reach i\_MaxHoverHeight (20+-1.5 m) from the moment the drone launches. This is why the input steps specify a 25 sec wait after launch.

As per SRS, while in the Hover state, the drone will enter the Autonomous Explore state if it sees a parking lot. The purpose of placing the drone in a non-parking lot area is to keep the drone in the Hover state.

While hovering the drone should stay a 1.5 m radius. In terms of height, it means that the drone should hover within i\_MaxHoverHeight-1.5m=20-1.5=18.5m and i\_MaxHoverHeight+1.5m=20+1.5=21.5m above the ground.  \\ 
\hline
Purpose of test and/or relationship to other tests & This test is very similar to \nameref{tab:STC_001}, except that the height parameters are configured to be much higher. The purpose of configuring the height parameters differently is to verify that the drone can hover accurately at different heights, that the drone can land safely from different heights, and that the Configure state is actually capable of configuring the height variables (\nameref{GEN_003}, \nameref{GEN_004}).

Verifies the states Off, Idle, Hover, Configure, and Land as well as the transitions between them (\nameref{STA_000}, \nameref{STA_001}, \nameref{STA_004}, \nameref{STA_005}, \nameref{STA_006}, \nameref{TRANS_002}, \nameref{TRANS_003}, \nameref{TRANS_009}). 
Verifies a corner case in the parking lot detection algorithm where it correctly detects no parking lot when there is no parking lot.
Verifies the NFR requiring the product to take off to i\_MaxHoverHeight within 25 seconds (\nameref{PERF_002}). \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\begin{table}[!h]
\begin{center}
\caption {STC\_004}
\label{tab:STC_004}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:STC_004} \\ 
\hline
Control & Manual \\ 
\hline
Initial State & The product is in any of its flying states.   \\ 
\hline
Input & Set m\_CompulsiveMove as false. Change m\_DesiredUserLoc to a location within the parking lot and to the diagonal front right of the drone at least 20m away.  \\ 
\hline
Output & The drone should enter the Autonomous Move state upon a change to m\_DesiredUserLoc. The drone should move to and stay within 1.5m radially of the specified location. 
The user should also see a visual trace of the drone's movement; it should be a roughly straight line (shortest path).
Measure the time takes to reach the specified GPS location and calculate the average speed. As per SRS, ensure it is more than 4 m/sec.  \\ 
\hline
How test will be performed & Input section contains enough detail. \\ 
\hline
Test case derivation & As per SRS, the drone should enter Autonomous Move state whenever m\_DesiredUserLoc is changed and m\_CompulsiveMove is false. In this state the drone should travel to m\_DesiredUserLoc and hover with an accuracy of 1.5m. 

A visual trace of the drone's movement in the past 60 seconds should be displayed on the Operator's PC Application. It should appear as a relatively straight diagonal line toward the hover location, as the drone's path planning should make it take the shortest path. 

Using the time taken, the average speed of the drone can be calculated as distance/time. As per the SRS, it should be at least 4 m/sec. 
 \\ 
\hline
Purpose of test and/or relationship to other tests & 
\begin{itemize}
    \item Assesses the ability of the drone to move to forward as well as move rightward in a stable and efficient manner toward a specified GPS location.
    \item Helps verify the Autonomous Move state and transitions related to proceeding to a given location when the location is within the parking lot (\nameref{STA_002}, \nameref{TRANS_005}).
    \item Verifies the NFRs related to lateral accuracy (\nameref{PERF_008}). 
    \item Verifies the NFRs related to height accuracy during movement (\nameref{PERF_006}). 
    \item Verifies the visual trace requirement (\nameref{USE_001}. 
    \item Verifies the average speed requirement (\nameref{PERF_003}. 
\end{itemize}
\\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsubsection{Battery}


\begin{table}[!h]
\begin{center}
\caption {STC\_005}
\label{tab:STC_005}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:STC_005} \\ 
\hline
Control & Manual \\ 
\hline
Initial State & The product is in the Idle state. \\ 
\hline
Input & Record the remaining battery stated on the Operator's PC Application. Disconnect the battery from the drone and connect it to the battery charger and record the remaining battery levels it detects. \\ 
\hline
Output & Battery levels stated on the Operator's Application should match the battery levels stated on the battery charger. \\ 
\hline
How test will be performed & Input section contains enough detail. \\ 
\hline
Test case derivation & As per HA, the drone should display the remaining battery on the Operator's PC Application. \\ 
\hline
Purpose of test and/or relationship to other tests & Verification that the display of the remaining battery on the Operator's PC Application is accurate (\nameref{SR_003}). \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\begin{table}[!h]
\begin{center}
\caption {STC\_006}
\label{tab:STC_006}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:STC_006} \\ 
\hline
Control & Manual \\ 
\hline
Initial State & The product is in its Idle state. The drone battery is fully charged. \\ 
\hline
Input & To launch the drone, assert m\_Launch as true. Let the drone operate in any flying state. \\ 
\hline
Output & Observe the battery levels displayed on the Operator’s Application fall with time. It should fly in normal operation for at least 3.5 minutes.
At some point, the battery will be running very low (less than 1.5 minutes of flight left) and the drone will automatically enter the Malfunction state. In this state an error message will be logged to c\_Log, the c\_HealthStatus is set to Unhealthy, and the drone returns to the launch location. \\ 
\hline
How test will be performed & Regarding the initial state, verifying that the battery capacity is full can be accomplished by using the battery's charger. Input steps are self-explanatory. \\ 
\hline
Test case derivation & As per SRS, the Malfunction state must send an error message to c\_Log, change the c\_HealthStatus to Unhealthy, and the drone returns to the launch location.
As per HA, the drone must enter the Malfunction state and land itself when the remaining battery is detected to be low (less then 1.5 minutes). As per SRS, the drone must have a total battery capacity of lasting at least 5 minutes, leading to at least 3.5 minutes of flight.
As per HA, the drone must display the amount of battery remaining to the operator. 
 \\ 
\hline
Purpose of test and/or relationship to other tests & 
\begin{itemize}
    \item Verification of the low battery transition to the malfunction state (\nameref{SR_011}). 
    \item Verification of the operation of the malfunction state and transition into it (\nameref{STA_009}).
    \item Verification of the NFR requiring flight time to be at least 5 minutes (\nameref{USE_003}). 
    \item Verification of the FR requiring the drone to display remaining battery life to the operator (\nameref{SR_003}). 
\end{itemize}
\\ 
\hline
\end{tabular}
\end{center}
\end{table}

\begin{table}[!h]
\begin{center}
\caption {STC\_007}
\label{tab:STC_007}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:STC_007} \\ 
\hline
Control & Manual \\ 
\hline
Initial State & The product is in its Idle state. The drone has less than 3 minutes of battery remaining.  \\ 
\hline
Input & Attempt to launch the drone via setting m\_Launch as true. \\ 
\hline
Output & Drone should not launch, and instead, a descriptive error should be logged into the variable c\_Log.  \\ 
\hline
How test will be performed & Input section contains enough detail. \\ 
\hline
Test case derivation & As per HA, the drone should not fly unless there is more the 3 minutes of battery remaining.
 \\ 
\hline
Purpose of test and/or relationship to other tests & Verification of the FR requiring the drone to not fly unless their sufficient battery is available (\nameref{SR_012}). 
\\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsubsection{Communication}

\begin{table}[!h]
\begin{center}
\caption {STC\_008}
\label{tab:STC_008}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:STC_008} \\ 
\hline
Control & Manual \\ 
\hline
Initial State &  The drone is flying in any of its flight states. \\ 
\hline
Input & The operator turns off the communication network to the drone. \\ 
\hline
Output & The drone will enter the Communication Lost state, in which it will log an error to c_Log, set c\_HealthStatus to Unhealthy, and move back toward the launch location. \\ 
\hline
How test will be performed & For example, if Wifi is used as the communication mechanism, turn off Wifi on the Operator's PC. \\ 
\hline
Test case derivation & As per SRS, the drone should enter the Communication Lost state when communication is lost for more than 5 sec. The Communication Lost state must log an error to c_Log, set c\_HealthStatus to Unhealthy, and move back toward the launch location. \\ 
\hline
Purpose of test and/or relationship to other tests & 
• Assess the drone's ability to transition to the communication lost state when the wifi connection is cut.

• Verifies the Communication Lost state as well as transitions related to entering it (\nameref{STA_010}, \nameref{TRANS_010}).  
\\ 
\hline
\end{tabular}
\end{center}
\end{table}


\begin{table}[!h]
\begin{center}
\caption {STC\_009}
\label{tab:STC_009}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:STC_009} \\ 
\hline
Control & Manual \\ 
\hline
Initial State & The drone is flying in any of its flight states. \\ 
\hline
Input & The operator closes the Operator's PC Application. \\ 
\hline
Output & The drone will enter the Communication Lost state, in which it will log an error to c_Log, set c_HealthStatus to Unhealthy, and move back toward the launch location. \\ 
\hline
How test will be performed & Close the PC Application's main window or close the process in the task manager. \\ 
\hline
Test case derivation & As per SRS the drone should enter the Communication Lost state when communication is lost for more than 5 sec. The Communication Lost state must log an error to c_Log, set c_HealthStatus to Unhealthy, and move back toward the launch location. \\ 
\hline
Purpose of test and/or relationship to other tests &  • Assess the drone's ability to transition to the communication lost state when the ParkingLotHawk Application is closed abruptly.

• Verifies the Communication Lost state as well as transitions related to entering it (\nameref{STA_010}, \nameref{TRANS_010}).  
\\ 
\hline
\end{tabular}
\end{center}
\end{table}


\begin{table}[!h]
\begin{center}
\caption {STC\_010}
\label{tab:STC_010}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:STC_010} \\ 
\hline
Control & Manual \\ 
\hline
Initial State & The drone is on the ground of a non-parking lot and in its idle state. \\ 
\hline
Input & Launch the drone by setting m_Launch to true. After which wait 25 sec.  Assert m_CompulsiveMove as true. Change the value of m_DesiredUserLoc to a location at least 2km forward. \\ 
\hline
Output & Once the value of m_DesiredUserLoc is changed, the drone will enter the Compulsive Move state. The drone will continue to move forward. 

When the drone loses connection, the drone will enter the Communication Lost state, in which an error will be logged to c_Log, c_HealthStatus changes to Unhealthy and the drone will move back toward the launch location. 

Record the last GPS location received to determine the distance traveled before was communication lost. 

While flying toward the launch location the drone regains communication, it should renter the Hover state. \\ 
\hline
How test will be performed & Input steps are self-explanatory. \\ 
\hline
Test case derivation & As per SRS, the drone should hover within 25 seconds of being launched, so the operator must wait 25 seconds before they can ensure the drone is hovering. 

As per SRS, in the Compulsive Move state, the drone will move toward the desired location regardless of if it is within the parking lot.

As per SRS, the drone should enter the Communication Lost state when communication is lost for more than 5 sec. The Communication Lost state must log an error to c_Log, set c_HealthStatus to Unhealthy, and move back toward the launch location. Communication is likely to be lost as the m_DesiredUserLoc is very far (2km).

As per SRS, if the drone regains connection in the Communication Lost state, it should transition to the hover state.
 \\ 
\hline
Purpose of test and/or relationship to other tests & • Estimate the drone's flying range.

• Stress tests the drone's range.

• Elucidates how the drone's functionality decreases with greater distances. 

• Assesses the ability of the drone to regain connection (\nameref{SR_007}).

• Verifies the Communication Lost state as well as related to exiting it (\nameref{STA_010}, \nameref{TRANS_010}). 

\\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsubsection{User Error States}
\label{usererrorTests}

\begin{table}[!h]
\begin{center}
\caption {STC\_011}
\label{tab:STC_011}
\begin{tabular}{ | m{1.5cm} | m{15cm} | } 
\hline
ID & \nameref{tab:STC_011} \\ 
\hline
Control & Manual \\ 
\hline
Initial State & The product is in any of its flying states.   \\ 
\hline
Input & Change m\_DesiredUserLoc to a location outside the parking lot. Attempt to fly the drone to that location by using the Compulsive Move state (asserting m\_CompulsieveMove) and selecting "Yes" when the prompt opens.  \\ 
\hline
Output & The drone should log an error message indicating the location is not within a parking lot in  c\_Log and set c\_UserError to Desired\_Location\_Out\_Of\_Bounds. A prompt should open up asking if the user desires the drone to move to the location. When the user selected "Yes", the drone should fly to the location. \\

\hline
How test will be performed & Input section contains enough detail. \\ 
\hline
Test case derivation & As per SRS, the drone should prompt the user with a message if the location they desire the drone to fly toward is invalid. It should also change c\_UserError and log a message to c\_Log. If the user answers "Yes" to the prompt, the drone should fly toward the location.  

 \\ 
\hline
Purpose of test and/or relationship to other tests & 

• Helps verify the Compulsive Move state and transitions related to it, specifically its ability to detect and report the error when the requested location is invalid (\nameref{STA_013}, \nameref{TRANS_005}).
\\ 
\hline
\end{tabular}
\end{center}
\end{table}

\begin{table}[!h]
\begin{center}
\caption {STC\_012}
\label{tab:STC_012}
\begin{tabular}{ | m{1.5cm} | m{15cm} | } 
\hline
ID & \nameref{tab:STC_012} \\ 
\hline
Control & Manual \\ 
\hline
Initial State & The height parameters are set as \ref{Min_Hover_Params}. The drone is in the Hover state, on the surface of a non-parking lot area but at least 50m away from a parking lot.  \\ 
\hline
Input & Attempt to enter the Autonomous Explore state. Now move the drone to a location within the nearby parking lot utilizing the Compulsive Move state. Once the drone is in the parking lot attempt to enter the Autonomous Explore State again. \\ 
\hline
Output & Upon the first attempt to enter the Autonomous Explore State, the attempt should fail, and instead, the drone should enter the No Parking Lot Detected State. Upon entrance to this state, c\_UserError is set to No_Lot_Detected_State and an error message is logged to c\_Log. Afterward, when the drone enters the Compulsive move state, c\_UserError should be None, and the drone should travel to m\_DesiredUserLoc. Upon the second attempt to enter the Autonomous Explore State, the attempt should succeed. \\ 
\hline
How test will be performed & 
The test case can be restated in terms of the input and output variables: 
\begin{enumerate}[topsep=0pt,itemsep=-1ex,partopsep=1ex,parsep=1ex]
	\item Assert m\_AutonomousExplore as true to request the Autonomous Explore state. Measure/analyze behavior. 
	\item Now assert and hold m\_CompulsiveMove as true, and change m\_DesiredUserLoc to a location within the nearby parking lot. 
	\item Wait until the drone is within 1.5m of the m\_DesiredUserLoc
	\item Try setting m\_AutonomousExplore to true again to request entrance in the parking lot. Measure/analyze behavior.  \end{enumerate} \\
\hline
Test case derivation & As per SRS the Autonomous Explore state should only be entered if c\_ParkingLotDetected is true. The Initial State behavior specified above (height parameters and distance to nearby parking lot) is set in a way to ensure that the nearby parking lot is not in the field of view of the drone. This is why the first attempt to enter the Autonomous Explore fails while the second attempt succeeds. When an attempt to enter Autonomous Explore fails, the drone should enter the No Parking Lot Detected State.

As per SRS, upon entrance into the No Parking Lot Detected State c\_UserError should be set to No_Lot_Detected_State and an error message is should be logged to c\_Log. Upon exit \c_UserError should be set to None.

As per SRS, the Compulsive Move state should be entered if the m\_DesiredUserLoc is changed and m\_CompulsiveMove is true. 
 \\ 
\hline
Purpose of test and/or relationship to other tests & 
• This test case is not designed to test the accuracy of flight dynamics, as the drone moves too quickly and too far to accurately measure GPS.

• Helps to verify the transition into the Autonomous explore state (\nameref{STA_003}, \nameref{TRANS_004}). 

• Verifies the Compulsive Move state as well as transitions related to it (\nameref{STA_011}, \nameref{TRANS_012}).

• Verifies the No Parking Lot Detected Error state as well as transitions related to it (\nameref{STA_008}, \nameref{TRANS_008}).
\\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsubsection{Visual Perception and Path Planning}

\begin{table}[!h]
\begin{center}
\caption {STC\_013}
\label{tab:STC_013}
\begin{tabular}{ | m{1.5cm} | m{15cm} | } 
\hline
ID & \nameref{tab:STC_013} \\ 
\hline
Control & Manual \\ 
\hline
Initial State & The drone is on the ground of a rectangular-shaped parking lot with less than 30 parking spots, is fully charged, and is in its idle state.  \\ 
\hline
Input & Assert m\_Launch. \\ 
\hline
Output & The drone should first enter the Hover state, but once it begins hovering and it detects the parking lot, the drone should enter the Autonomous Explore state. Within the 3.5 minutes of guaranteed operations, the drone should have explored the full parking and completed its c\_OccupancyMap with reasonable accuracy. 
Monitor the FPS and output of c\_CameraView output. \\ 
\hline
How test will be performed & Input section contains enough detail. \\ 
\hline
Test case derivation & As per SRS, while in the hover state, the drone should enter the Autonomous Explore state automatically once it detects a parking lot. The Autonomous Explore state specifies that the drone should explore the parking lot during this state. Assuming that the drone moves at roughly 4m/sec and sees at least 1 parking spot every frame, it is reasonable to assume that 3.5 minutes is more than enough time for the drone to explore an entire parking lot of this size.
 \\ 
\hline
Purpose of test and/or relationship to other tests & 
\item • Assesses the accuracy of the visual perception algorithm to segment the parking lot, accuracy in recognizing unoccupied parking spots, and accuracy in its generated occupancy map (c\_OccupancyMap) (\nameref{GEN_005}, \nameref{GEN_006}) in a real physical environment.

• Assesses the accuracy of the path planning algorithm (does it ever explore the same area twice, does it explore the parking lot in a systematic and predictable way, etc.) (\nameref{STA_003}) in a real physical environment.

• Verifies the drone’s ability to identify Parking Lot boundaries (\nameref{GEN_001}) in a real physical environment.

• Verifies the ability to create and updating c_OccupancyMap (\nameref{GEN_002}).

• Helps to verify the Autonomous explore state as well as the transition to it from the Hover state (\nameref{STA_003}, \nameref{TRANS_004}).

• Verifies the NFR specifying the minimum required FPS of c\_CurrentView to be 0.5 (\nameref{PERF_004}).

• Verifies the NFR requiring that the drone explores up to 1400m\^2 of the parking lot assuming enough time and a small enough size of the parking lot (\nameref{PERF_001}) in a real physical environment.
\\ 
\hline
\end{tabular}
\end{center}
\end{table}



\begin{table}[!h]
\begin{center}
\caption {STC\_014}
\label{tab:STC_014}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:STC_014} \\ 
\hline
Control & Manual \\ 
\hline
Initial State & Disconnect the propellers from the drone. Carry the drone to an area that has grass,  a roadway with lane markings, and a parking lot within walking distance.  \\ 
\hline
Input & Hold the drone on a grass pasture. The walk and stand in the middle of a street with yellow and white lines. Then walk into a parking lot. \\ 
\hline
Output & The Operator's PC should display c\_ParkLotDetected as false in all places except when the drone is inside a parking lot. \\ 
\hline
How test will be performed & The recreation of the initial state requires modifying the transition code such that the Idle state is never exited, to ensure safety while the tester handles the drone. The outputs of the system will be observed through the Operator’s application. \\ 
\hline
Test case derivation & As per SRS, the drone should be able to detect and differentiate between parking lots and non-parking lots. 

The drone analyses and segments parking lot area on pre-downloaded sattaliete imagery. Thus the  GPS location alone (not visual perception) is needed to help the drone determine if a given location is within the parking lot.

 \\ 
\hline
Purpose of test and/or relationship to other tests & 
• Ensures that the drone does not detect streets as parking lots. This is an important use case as the drone will likely see streets in its normal operation as streets are often found near parking lots.

• Verifies the ability of the drone to identify parking lots (\nameref{GEN_001}, \nameref{SR_009}).
\\ 
\hline
\end{tabular}
\end{center}
\end{table}



\begin{table}[!h]
\begin{center}
\caption {STC\_015}
\label{tab:STC_015}
\begin{tabular}{ | m{1.5cm} | m{15cm} | } 
\hline
ID & \nameref{tab:STC_015} \\ 
\hline
Control & Automatic \\ 
\hline
Initial State & The drone is in the Idle state, propellars are disconnected, the visual perception code is active, and live camera is functional.
\\ 
\hline
Input & Hold the drone over a printed picture of a parking lot. i\_DesiredHoverHeight is set to 0m. \\ 
\hline
Output & The live camera view, c\_CurrentView, should feature the printed image. The drone should also identify if the location it is hovering over is occupied by an object or not.   \\ 
\hline
How test will be performed & The recreation of the initial state may require modifying code. The idle state has no requirements related to the usage of the visual perception features. If the Idle state does not enable the usage of the camera and visual perception features already, modify the Idle state's code (creating a stub) to do this. Furthermore, in order to enhance safety, keep the drone on the ground several meters away, remove the propellers and modify the transition code such that the Idle state is never exited. The outputs of the system will be observed through the Operator's application.  \\ 
\hline
Test case derivation & As per SRS, the drone should process the visual input from the camera to determine the parking lot information and display that information to the Operator's application. This includes the parking lot identifications, and occupancy classification.  \\ 
\hline
Purpose of test and/or relationship to other tests &  • Verifies the data pipeline that communicates outputs from the visual perception feature to the Operator's PC application.

• Verifies the ability to identify non-occupied and occupied parking spots (\nameref{GEN_005}, \nameref{SR_009}).

• Verifies display of the live camera view (c\_CameraView). \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\begin{table}[!h]
\begin{center}
\caption {STC\_016}
\label{tab:STC_016}
\begin{tabular}{ | m{1.5cm} | m{15cm} | } 
\hline
ID & \nameref{tab:STC_016} \\ 
\hline
Control & Automatic \\ 
\hline
Initial State & The drone is in the Automatic Explore state within the 3D Software in the Loop (SITL) environment. \\ 
\hline
Input & Position the drone within a custom-made 3D SITL environment. Send the drone to the Hover state and transition to the Automatic Explore state. \\ 
\hline
Output & The drone should output c\_CurrentView, c\_OccupencyMap, and c\_ParkingLotDetected. c\_CurrentView should feature the input image with overlays for the parking lot slots and the boundaries of the parking lot. c\_OccupencyMap should indicate all visible parking lots, and whether each parking lot is occupied or not. c\_ParkingLotDetected should be true. The specific outputs will be determined by which input image is being passed in.

Furthermore, the current positions of the drone should be outputted to the Operator's application: c\_CurrentLoc and c\_PastLoc. \\ 
\hline
How test will be performed & A custom-made SITL environment consisting of 6 rows of parking slots, with 10 slots per row, will be created with Gazebo. 25\% of the parking slots will be occupied by vehicles. An external script will be used to start the SITL setup with the premade scenario and execute the required sequence of inputs to bring the drone to the Autonomous Explore state. c\_CurrentView for the entire test will be saved as a .avi file, and the remaining outputs will be exported to a CSV for analysis. The test ends when either the entire parking lot has been explored, or until 3.5 minutes has passed since the drone's initial launch.
 \\ 
\hline
Test case derivation & As per SRS, the drone should process the visual input from the camera to determine the parking lot information and display that information to the Operator's application. This test is similar to STC_014, but this test is within a closed loop environment, whereas STC_014 is with an open loop system. Furthermore, this tests the path planning algorithm specified within the SRS.
 \\ 
\hline
Purpose of test and/or relationship to other tests &  • Usage of the 3D SITL allows the verification of the path planning algorithm, visual perception algorithm, and the integration between them on consistent test cases.

• Verifies the ability to recognize clear boundaries (\nameref{GEN_001}).

• Verifies the live updating of the c_OccupancyMap, c_CurrentLoc, and c_CurrentView (\nameref{GEN_002}).

• Verifies ability to identify non-occupied parking spots (\nameref{GEN_005}).

• Verifies display of non-occupied parking spots onto the Operator's application (\nameref{GEN_006}).

• Verifies the Autonomous Explore state (\nameref{STA_003}, \nameref{TRANS_003}).
\\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsection{Traceability between Test Cases and Functional Requirements}
\begin{table}[!h]
\begin{center}
\caption {FR Traceability Table}
\label{tab:FR_Trace}
\begin{tabular}{ | m{8cm} | m{8cm} | } 
\hline
Functional Requirement & Test Case to Verify \\
\hline
\nameref{GEN_001} & \nameref{tab:STC_014}, \nameref{tab:STC_016} \\ \hline
\nameref{GEN_002} & \nameref{tab:STC_013}, \nameref{tab:STC_016} \\ \hline
\nameref{GEN_003} & \nameref{tab:STC_001}, \nameref{tab:STC_003} \\ \hline
\nameref{GEN_004} & \nameref{tab:STC_001}, \nameref{tab:STC_002} \\ \hline
\nameref{GEN_005} & \nameref{tab:STC_013}, \nameref{tab:STC_016}, \nameref{tab:STC_015} \\ \hline
\nameref{GEN_006} & \nameref{tab:STC_013}, \nameref{tab:STC_016}\\ \hline
\nameref{STA_000} & \nameref{tab:STC_001}, \nameref{tab:STC_002}, \nameref{tab:STC_003} \\ \hline
\nameref{STA_001} & \nameref{tab:STC_001}, \nameref{tab:STC_002}, \nameref{tab:STC_003} \\ \hline
\nameref{STA_002} & \nameref{tab:STC_005}, \nameref{tab:STC_011} \\ \hline
\nameref{STA_003} & \nameref{tab:STC_016}, \nameref{tab:STC_012}, \nameref{tab:STC_013} \\ \hline
\nameref{STA_004} & \nameref{tab:STC_001}, \nameref{tab:STC_002}, \nameref{tab:STC_003} \\ \hline
\nameref{STA_005} & \nameref{tab:STC_001}, \nameref{tab:STC_002}, \nameref{tab:STC_003} \\ \hline
\nameref{STA_006} & \nameref{tab:STC_001}, \nameref{tab:STC_002}, \nameref{tab:STC_003} \\ \hline
\nameref{STA_007} & \nameref{tab:STC_011} \\ \hline
\nameref{STA_008} & \nameref{tab:STC_012} \\ \hline
\nameref{STA_009} & \nameref{tab:STC_006} \\ \hline
\nameref{STA_010} & \nameref{tab:STC_008}, \nameref{tab:STC_009}, \nameref{tab:STC_010} \\ \hline
\nameref{STA_011} & \nameref{tab:STC_012} \\ \hline
\nameref{STA_012} & \nameref{tab:STC_001}, \nameref{tab:STC_003} \\ \hline
\nameref{STA_013} & \nameref{tab:STC_001}, \nameref{tab:STC_003} \\ \hline
\nameref{TRANS_001} &  \nameref{tab:STC_002}, \nameref{tab:STC_003} \\ \hline
\nameref{TRANS_002} & \nameref{tab:STC_001}, \nameref{tab:STC_002}, \nameref{tab:STC_003} \\ \hline
\nameref{TRANS_003} & \nameref{tab:STC_001}, \nameref{tab:STC_002}, \nameref{tab:STC_003} \\ \hline
\nameref{TRANS_004} & \nameref{tab:STC_013}, \nameref{tab:STC_012} \\ \hline
\nameref{TRANS_005} & \nameref{tab:STC_004}, \nameref{tab:STC_011} \\ \hline
\nameref{TRANS_006} & \nameref{tab:STC_011} \\ \hline
\nameref{TRANS_007} &  \nameref{tab:STC_012}, \nameref{tab:STC_013} \\ \hline
\nameref{TRANS_008} & \nameref{tab:STC_011} \\ \hline
\nameref{TRANS_009} & \nameref{tab:STC_001}, \nameref{tab:STC_002}, \nameref{tab:STC_003} \\ \hline
\nameref{TRANS_010} & \nameref{tab:STC_008}, \nameref{tab:STC_009}, \nameref{tab:STC_010} \\ \hline
\nameref{TRANS_011} & \nameref{tab:STC_008}, \nameref{tab:STC_009}, \nameref{tab:STC_010} \\ \hline
\nameref{TRANS_012} & \nameref{tab:STC_012}, \nameref{tab:STC_010} \\ \hline
\nameref{TRANS_013} & \nameref{tab:STC_001}, \nameref{tab:STC_003} \\ \hline
\nameref{TRANS_014} & \nameref{tab:STC_001}, \nameref{tab:STC_003} \\ \hline
\nameref{TRANS_015} & \nameref{tab:STC_003} \\ \hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsection{Tests for Nonfunctional Requirements}

\subsubsection{User Manual}
\begin{table}[!h]
\begin{center}
\caption {STC\_017}
\label{tab:STC_017}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:STC_017} \\ 
\hline
Control & Manual \\ 
\hline
Initial State & Two volunteers are available for two hours. The drone is in its Off state. \\ 
\hline
Input & Volunteers read the user manual, attempt to install the Operator's Application, and then attempt to conduct \nameref{tab:STC_012} without any support from developers. \\ 
\hline
Output &  All volunteers read the user manual, install the necessary software and successfully conduct \nameref{tab:STC_012} within 2 hours. 
 \\ 
\hline
How test will be performed & Input section is self-explanatory.\\ 
\hline
Test case derivation & As per SRS, a new non-technical user shall be able to operate the drone within 2 hours.
 \\ 
\hline
Purpose of test and/or relationship to other tests &  • Build confidence that the user manual is readable and that the product is well documented.

• \nameref{tab:STC_012} is one of the most complicated states, as it involves multiple inputs, the ability to operate the drone in two flight states, and the operation of an error state. 

• Verifies NFR requiring a new user to be able to operate the drone within 2 hours (\nameref{USE_004}). 
\\ 
\hline
\end{tabular}
\end{center}
\end{table}


\begin{table}[!h]
\begin{center}
\caption {STC\_018}
\label{tab:STC_018}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:STC_018} \\ 
\hline
Control & Static \\ 
\hline
Initial State & Two participants have read the manual in its entirety. \\ 
\hline
Input & Ask each participant to highlight the sentence(s) that specify the
\begin{enumerate}[topsep=0pt,itemsep=-1ex,partopsep=1ex,parsep=1ex]
        \item Weather conditions of when not to fly.
	\item Steps/inspection to conduct prior to flight and after flight.
	\item Orientation to hold the drone.
	\item States in which drone can be held.
        \item Whether or not the password can be shared.
\end{enumerate}
\\ 
\hline
Output & The answer to each question is listed below in corresponding order. A successful test is one in which the participants are able to identify the appropriate sentence(s) corresponding to each question: 
\begin{enumerate}[topsep=0pt,itemsep=-1ex,partopsep=1ex,parsep=1ex]
	\item Weather with rain, snow, fog, and/or winds over 50 km/hour is considered inclement weather.
	\item Inspect drone for damage pre-flight and post-flight. Wait for the drone to cool down post-flight.
	\item Correct orientation is specific to the frame design, and thus cannot be specified at this time.
	\item Drone can be held in Off, Idle, and Configure states.
    \item Password must be kept private.
\end{enumerate}\\ 
\hline
How test will be performed & Input section is self-explanatory. \\ 
\hline
Test case derivation & As per SRS, the user manual must contain certain safety specifications regarding non-inclement weather, pre-flight damage inspection, postflight wait for cooldown, orientations to hold drone, holdable states, and secrecy of password (\nameref{SR_002}, \nameref{SR_006}, \nameref{SR_010}, \nameref{SAFE_003}). 
 \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsubsection{Usability}

\begin{table}[!h]
\begin{center}
\caption {STC\_019}
\label{tab:STC_019}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:STC_019} \\ 
\hline
Control & Static \\ 
\hline
Initial State & - \\ 
\hline
Input & Place the drone on a weighing scale. \\ 
\hline
Output &  Drone weighs less than 25 kg. \\ 
\hline
How test will be performed & Input section is self-explanatory. \\ 
\hline
Test case derivation & As per SRS, the drone must weigh less than 25 kg (\nameref{STD_001}).
 \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\begin{table}[!h]
\begin{center}
\caption {STC\_020}
\label{tab:STC_020}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:STC_020} \\ 
\hline
Control & Static \\ 
\hline
Initial State & Drone battery has discharged completely. \\ 
\hline
Input & Connect the drone to the charger, and disconnect once it is fully charged. \\ 
\hline
Output & Battery is fully charged in less than an hour. \\ 
\hline
How test will be performed & To complete the Initial State, discharge the battery through the discharge setting on the charger.
 \\ 
\hline
Test case derivation & As per SRS, the drone battery should recharge in one hour (\nameref{MTNC_001}).
 \\ 
\hline
\end{tabular}
\end{center}
\end{table}


\begin{table}[!h]
\begin{center}
\caption {STC\_021}
\label{tab:STC_021}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:STC_021} \\ 
\hline
Control & Static \\ 
\hline
Initial State & Drone is any flight state, and 5 people in their cars are stationed around the parking lot. \\ 
\hline
Input & Survey the 5 people as to whether the drone (sight or noise) would negatively influence their driving in a serious way. \\ 
\hline
Output &  No participants respond to the survey question with yes to the question. \\ 
\hline
How test will be performed & Input section is self-explanatory. \\ 
\hline
Test case derivation & As per SRS, the drone should not disturb more then 2\% of people (\nameref{SAFE_004}, \nameref{SAFE_001}).
 \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\begin{table}[!h]
\begin{center}
\caption {STC\_022}
\label{tab:STC_022}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:STC_022} \\ 
\hline
Control & Manual \\ 
\hline
Initial State & - \\ 
\hline
Input & Assert m_SaveOutput. Attempt to save the raw visuals (c_OccupancyMap and c_CurrentView) in any folder.
 \\ 
\hline
Output &  Both visuals are saved in the specified folders with specified names and reasonable similarity to what was seen on the Operator's Application. \\ 
\hline
How test will be performed & Input section is self-explanatory. \\ 
\hline
Test case derivation & As per SRS, the drone should allow the user to have the current output into a folder (\nameref{USE_002}).
 \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage


\subsection{Traceability between Test Cases and Non-Functional Requirements}

Certain requirements do not have a corresponding test case. A reason is specified if this is the case. For example, if a requirement is a pass or fails determined by the parts purchased, then testing will not yield any new information as it cannot be changed by the engineers. 

\begin{table}[!h]
\begin{center}
\caption {NFR Traceability Table}
\label{tab:NFR_Trace}
\begin{tabular}{ | m{3cm} | m{12cm} | } 
\hline
Non-Functional Requirement & Test Case to Verify \\
\hline
\nameref{PERF_001} & \nameref{tab:STC_013} \\ \hline
\nameref{PERF_002} & \nameref{tab:STC_001}, \nameref{tab:STC_002}, \nameref{tab:STC_003} \\ \hline
\nameref{PERF_003} & \nameref{tab:STC_004} \\ \hline
\nameref{PERF_004} &  \nameref{tab:STC_013} \\ \hline
\nameref{PERF_005} & \nameref{tab:STC_002}, \nameref{tab:STC_003} \\ \hline
\nameref{PERF_006} & \nameref{tab:STC_004} \\ \hline
\nameref{PERF_007} & \nameref{tab:STC_015} \\ \hline
\nameref{PERF_008} & \nameref{tab:STC_004} \\ \hline
\nameref{DES_001} & None, it is a pass or fail depending on components already bought. \\ \hline
\nameref{STD_001} & \nameref{tab:STC_019} \\ \hline
\nameref{STD_002} & None, it is a pass or fail depending on components already bought. \\ \hline
\nameref{SEC_001} & None, password complexity is a simple requirement and can be tested through unit tests.\\ \hline
\nameref{SEC_002} & None, pass or fail. \\ \hline
\nameref{MTNC_001} & \nameref{tab:STC_020} \\ \hline
\nameref{MTNC_002} & None, may damage expensive parts. In the interest of cost, this is not tested. \\ \hline
\nameref{MTNC_003} & None, may damage expensive parts. In the interest of cost, this is not tested. \\ \hline
\nameref{SAFE_001} & \nameref{tab:STC_021} \\ \hline
\nameref{SAFE_002} & \nameref{tab:STC_002} \\ \hline
\nameref{SAFE_003} & \nameref{tab:STC_018} \\ \hline
\nameref{SAFE_004} & \nameref{tab:STC_021} \\ \hline
\nameref{SAFE_005} & None, pass or fail dependent on components bought. \\ \hline
\nameref{USE_001} & \nameref{tab:STC_004} \\ \hline
\nameref{USE_002} & \nameref{tab:STC_022} \\ \hline
\nameref{USE_003} & \nameref{tab:STC_006} \\ \hline
\nameref{USE_004} & \nameref{tab:STC_017} \\ \hline
\nameref{USE_005} & Will be accomplished in future through a unit test. \\ \hline
\end{tabular}
\end{center}
\end{table}


\begin{table}[!h]
\begin{center}
\begin{tabular}{ | m{8cm} | m{8cm} | } 
\hline
Non-Functional Requirement & Test Case to Verify \\
\hline
\nameref{SR_002} & \nameref{tab:STC_018} \\ \hline
\nameref{SR_003} & \nameref{tab:STC_005}, \nameref{tab:STC_006} \\ \hline
\nameref{SR_004} & None, pass or fail determined by the components bought. \\ \hline
\nameref{SR_005} & None, pass or fail determined by the components bought. \\ \hline
\nameref{SR_006} & \nameref{tab:STC_018} \\ \hline
\nameref{SR_007} & \nameref{tab:STC_010} \\ \hline
\nameref{SR_008} & None, redundant localization without gps \\ \hline
\nameref{SR_009} & \nameref{tab:STC_015}, \nameref{tab:STC_014} \\ \hline
\nameref{SR_010} & \nameref{tab:STC_018} \\ \hline
\nameref{SR_011} & \nameref{tab:STC_006} \\ \hline
\nameref{SR_012} & \nameref{tab:STC_007} \\ \hline
\nameref{SR_013} & None, password complexity is a simple requirement and can be tested through unit tests. \\ \hline
\end{tabular}
\end{center}
\end{table}


\clearpage

\section{Unit Test Description}
\label{unitTest}

Unit tests are important not just just for assessing the correctness of the final solution, but they also help developers narrow down issues during integration tests, such as those outlined within \nameref{systemTest}. Each unit test is designed to utilize a singular module, as specified in the MIS. Sometimes the unit test pertains to a leaf module and at other times, due to the tight coupling between modules, an entire intermediate module is tested. The Unit tests are designed to verify a large, representative, and important amount of functionality in a given module, as basic functionality should be sufficient to start the extensive system testing within \nameref{systemTest}. Each unit test may verify multiple functional and non-functional requirements.

\subsection{Unit Testing Scope}

Software modules that were not implemented by the team are not included in the Unit Testing (\nameref{ROS}, Ardupilot, \nameref{Base Socket}, and \nameref{MavROS}). 
 


Unit testing of the electric circuitry and the drone's hardware requires the usage of Ardupilot, but assuming Ardupilot is installed correctly the unit tests still isolate the electrical and mechanical components.


Rather than testing each leaf module independently, it sometimes makes sense to test the whole intermediate-level module. Some modules are tightly coupled with other modules, such as the \nameref{Main Interface Module} that was created just to execute the \nameref{User Interface} module, as such it makes sense to Unit Test the whole intermediate module, Interface Hiding Module. Likewise, the entire Drone Decision and Control (DDC) Hiding module is verified instead of testing each of \nameref{Operation States}, \nameref{Operations Manager}, and the Main DDC Module. Furthermore, when the \nameref{Vision App}, \nameref{Mapper App}, and \nameref{Path Plan App} are tested, the Algorithm Manager App and Main Algorithm Module are also used. 

All modules have a high priority for being tested, except for the \nameref{Mapper App}, and \nameref{Path Plan App}, as these are stretch goals and not a part of the minimum viable product.


\subsection{Tests for Functional Requirements}

\subsubsection{Hardware Hiding}

The purpose of Unit testing the hardware is to ensure that the wiring and mechanical connections of all the various components is correct. Furthermore, the Unit tests are also designed to verify that the sensors are giving accurate readings. 

\begin{table}[!h]
\begin{center}
\caption {UTC\_001}
\label{tab:UTC_001}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_001} \\ 
\hline
Type &  Functional, Manual, Dynamic  \\ 
\hline
Initial State & Lay the drone flat on a surface. Remove the propellers and attach a piece of tape to each of the motors instead.\\ 
\hline
Input & Connect the battery and slowly raise the throttle on the RC Controller.
 \\ 
\hline
Output &  Each motor should spin incrementally faster with time. Each motor should also spin in the prescribed direction. \\ 
\hline
How test will be performed & Input steps are self-explanatory. \\ 
\hline
Test case derivation & The drone can be controlled manually through an RC Controller or autonomously through Ardupilot. This test simply verifies the electrical connections.   \\ 
\hline
Requirements &  \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\begin{table}[!h]
\begin{center}
\caption {UTC\_002}
\label{tab:UTC_002}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_002} \\ 
\hline
Type &  Functional, Manual, Dynamic  \\ 
\hline
Initial State & Lay the drone flat on a surface outside.\\ 
\hline
Input & Connect the battery. Using the RC Controller, raise the throttle to fly the drone up. Then use the other joysticks on the RC Controller to make the drone fly forward, then backward, then fly left and finally fly to the right.
 \\ 
\hline
Output &  The drone should fly up, then move forward longitudinally, then backward longitudinally, then left, and finally fly right.\\ 
\hline
How test will be performed & Input steps are self-explanatory. \\ 
\hline
Test case derivation & The drone can be controlled manually through an RC Controller or autonomously through Ardupilot. This test verifies the drone's mobility, which is mostly dependent on the electronics being connected correctly and the drone having an aerodynamic mass distribution.   \\ 
\hline
Requirements &  \\ 
\hline
\end{tabular}
\end{center}
\end{table}


\begin{table}[!h]
\begin{center}
\caption {UTC\_003}
\label{tab:UTC_003}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_003} \\ 
\hline
Type &  Functional, Manual, Static  \\ 
\hline
Initial State & Lay the drone flat on a surface roughly 1m above the ground.\\ 
\hline
Input & Connect the battery. SSH into the drone and utilize MavROS to read Compass, Barometer and global GPS values. 
 \\ 
\hline
Output &  Compare the drone to the correct sensor values, they should be relatively close (within the tolerance specified by the Hardware manufacturer).\\ 
\hline
How test will be performed & The correct compass and GPS readings can be estimated using a smartphone. Using a measuring tape, an estimate of the correct Barometer reading can be made.  \\ 
\hline
Test case derivation & This test case verifies that the Compass, Barometer, and GPS sensors are functional. \\ 
\hline
Requirements &  \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\begin{table}[!h]
\begin{center}
\caption {UTC\_004}
\label{tab:UTC_004}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_004} \\ 
\hline
Type &  Functional, Manual, Dynamic  \\ 
\hline
Initial State & Lay the drone flat on a surface.\\ 
\hline
Input & Power on the drone using a USB C connector. SSH into the drone and utilize MavROS to read IMU Acceleration values. Pickup the drone slighly off the ground, move the drone forward, then place it on the ground. Pickup the drone slighly off the ground, move the drone rightward, then place it on the ground. Pickup the drone straight up. This concludes the test.\\ 
\hline
Output &  When the drone is moved forward, the acceleration in the X should be positive. When the drone is moved rightward, the acceleration in the Y should be positive. When the drone is moved upward, the acceleration in the Z should be positive.\\ 
\hline
How test will be performed & Input steps are self-explanatory.  \\ 
\hline
Test case derivation & The purpose of this test is to verify the orientation of the drone and the IMU sensors. The positive and negative conventions are made in accordance with the hardware manufacturer. The battery was not connected in this case to ensure that the drone's propellers do not spin and a human can safely handle the drone. \\ 
\hline
Requirements &  \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsubsection{Operator Camera}

The purpose of the Operator Camera module is to receive images from the Video Streamer, which streams live camera images on a specific port address. Thus it is sufficient to verify that live drone images can be collected.

\begin{table}[!h]
\begin{center}
\caption {UTC\_005}
\label{tab:UTC_005}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_005} \\ 
\hline
Type &  Functional, Manual, Static  \\ 
\hline
Initial State &  Power on the drone using a USB C connector. \\ 
\hline
Input & Pick up the drone so that one's face is within the camera view. Make various facial and hand gestures.\\ 
\hline
Output &  The various gestures should be visible on the live camera video feed window created on the Operator's PC. Furthermore, the video feed should have a speed of at least 0.5 FPS. \\ 
\hline
How test will be performed & Write a stub within the Operator Camera module to collect and display the live images in a small window (e.g. using OpenCV). In this way the User Interface is not needed to conduct this test. \\ 
\hline
Test case derivation &  The battery was not connected to ensure that the propellers do not turn on, and thus the drone can safely be handled by a human. \\ 
\hline
Requirements &  \nameref{GEN_002}, \nameref{PERF_004} \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsubsection{Drone Camera}

The purpose of the Operator Camera module is to receive images from the Drone Camera module, thus it is sufficient to verify that live drone images can be collected.


\begin{table}[!h]
\begin{center}
\caption {UTC\_006}
\label{tab:UTC_006}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_006} \\ 
\hline
Type &  Functional, Manual, Static  \\ 
\hline
Initial State &  Power on the drone using a USB C connector. \\ 
\hline
Input & Pick up the drone so that one's face is within the camera view. Make various facial and hand gestures.\\ 
\hline
Output &  The various gestures should be visible as JPEGs in a folder on the Raspberry PI. Furthermore, the JPEGs should have a speed of at least 0.5 FPS.\\ 
\hline
How test will be performed & Write a stub within the Drone Camera module store live images in as JPEGs within any folder on the Raspberry Pi. \\ 
\hline
Test case derivation &  The battery was not connected to ensure that the propellers do not turn on, and thus the drone can safely be handled by a human. \\ 
\hline
Requirements & \nameref{GEN_002}, \nameref{PERF_004} \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsubsection{Message Socket}

The Message Socket module is used for bidirectional string communication between the drone and the Operator's PC. The Unit tests therefore simply verify that strings can be sent between the two platforms. 

\begin{table}[!h]
\begin{center}
\caption {UTC\_007}
\label{tab:UTC_007}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_007} \\ 
\hline
Type &  Functional, Automatic, Static  \\ 
\hline
Initial State & Power on the drone.\\ 
\hline
Input &  Using the Message Socket on the drone, send an empty heartbeat message to the Message Socket on the Operator's PC. Using the Message Socket on the Operator's PC, send the string "\{'Type': 'Command', 'Action':'None'\}" to the Message Socket on the Drone. \\ 
\hline
Output &  Empty heartbeat messages should be printed on the console of the drone, and  "\{'Type': 'Command', 'Action':'None'\}" should be printed on the console of the Operator's PC. At least 1 heartbeat message must be printed every 2 seconds, and at least 1 "\{'Type': 'Command', 'Action':'None'\}" message should be printed every 2 seconds. \\ 
\hline
How test will be performed & A new python application on the Operator's PC will need to be written and run to complete this unit test. In the script, a Message Socket object should be created and continuously send the message "\{'Type': 'Command', 'Action':'None'\}" while printing all messages it has received to the console.  

 Likewise a new python application on the drone will need to be written and run to complete this unit test. In the script, a Message Socket object should be created and continuously send the message empty heartbeat message, while printing all messages it has received to the console. \\ 
\hline
Test case derivation & The purpose of this test case is to verify string communication, as well as verify that the strings can be communicated at a sufficiently high speed (to meet the 0.5 frames per second requirement) \\ 
\hline
Requirements & \nameref{PERF_004} \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsubsection{Interface Hiding}

The Interface Hiding module is used to interact with the user, to get commands from the Operator as well as visualize drone's results. It is an intermediate module, made up of the User Interface and Main User Interface. Several unit tests are created to verify the ability of the drone to display output, the ability to capture input, and verify the security requirements required by the User Interface. 

\begin{table}[!h]
\begin{center}
\caption {UTC\_008}
\label{tab:UTC_008}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_008} \\ 
\hline
Type & Functional, Automatic, Static  \\ 
\hline
Initial State & -\\ 
\hline
Input & Run the testing script to hardcode a blank red image in the Operator's Camera, as well as hardcode the drone's heartbeat message shared by the Message Socket (the heartbeat message should specify an altitude of 5m, state of "Test", battery of 42\%, "Unhealthy" health status, user error as "None", and a GPS coordinate of McMaster's Student Center.  \\ 
\hline
Output & The live camera window should feature a blank red image. Furthermore, the User Interface should visually match the heartbeat message that was hard coded. In particular the GPS map should show the Drone as being located at McMaster's Student Center, health status should be "Unhealthy", the battery capacity should be 42\%, altitude should be displayed as 5m, user error should be "None", and the drone state should be "Test".\\ 
\hline
How test will be performed & A stub will need to be written to hardcode the images from the Operator's Camera and the heartbeat message received from the Message Socket.\\ 
\hline
Test case derivation &  The purpose of this test is to verify the ability of the User Interface to display output to the user.\\ 
\hline
Requirements &  \nameref{USE_005}, \nameref{SR_002}\\ 
\hline
\end{tabular}
\end{center}
\end{table}

\begin{table}[!h]
\begin{center}
\caption {UTC\_009}
\label{tab:UTC_009}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_009} \\ 
\hline
Type &  Functional, Manual, Static  \\ 
\hline
Initial State &  The drone is off. \\ 
\hline
Input &  The user enters an incorrect username and/or password. Then the user enters the correct username and password. \\ 
\hline
Output &  When the Operator enters an incorrect username/password, the User Interface should prevent the Operator from using the user interface. \\ 
\hline
How test will be performed & Input steps are self-explanatory. \\ 
\hline
Test case derivation & The purpose of this test is to verify the security features of the User Interface. \\
\hline
Requirements & \nameref{SR_013}, \nameref{SEC_001} \\ 
\hline
\end{tabular}
\end{center}
\end{table}


\begin{table}[!h]
\begin{center}
\caption {UTC\_010}
\label{tab:UTC_010}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_010} \\ 
\hline
Type &  Functional, Manual, Static  \\ 
\hline
Initial State & A volunteer is available.\\ 
\hline
Input &  The volunteer goes through the list of inputs and outputs in the SRS, as well as the specifications specified in the Design Document (MIS). \\ 
\hline
Output &  The volunteer makes sure that the user interface contains a means for capturing each input, a means for displaying each output, and implements the specification in the MIS. \\ 
\hline
How test will be performed & The input section is self-explanatory. \\ 
\hline
Test case derivation & The purpose of this test is to verify that the User Interface is complete. \\ 
\hline
Requirements &  \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsubsection{Vision App}

The Vision App contains two key functionalities. Firstly, the Vision App must accurately segment the parking lot from a given satellite image. The segmentation feature is done on the Operator's PC, prior to flight. Secondly, the Vision App must classify the central pixel of a given image as parking lot or non parking lot. This occupancy classification feature is ran live on the Raspberry PI.  

\begin{table}[!h]
\begin{center}
\caption {UTC\_011}
\label{tab:UTC_011}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_011} \\ 
\hline
Type &  Functional, Automatic, Static  \\ 
\hline
Initial State & -\\ 
\hline
Input &  200 images from any of the public parking lot image datasets are fed into the Occupancy Classifier feature, running on the Raspberry PI. At least 20 images should be during the night, at least 50 images should be during cloudy days, at least 50 images should be taken during sunny days, at least 20 images should be from above 15m, at least 20 images should have a camera altitude between 7m and 15m, and at least 40 images should been taken with the camera tilted.\\ 
\hline
Output &  Measure the time taken for the 200 images to be processed. The 200 images should have taken less than 400 seconds to be processed, to verify the 0.5 frames per second requirement. Also, measure the accuracy of the classification. \\ 
\hline
How test will be performed & The test will be through a special unit testing script. The script should hardcode the image from one of the datasets, run the algorithm, and record the result on some kind of table. \\ 
\hline
Test case derivation & 200 images were selected because they are an ample testing size. The images consisted of varying weather conditions, altitudes and tilts.  \\ 
\hline
Requirements & \nameref{GEN_005} \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\begin{table}[!h]
\begin{center}
\caption {UTC\_012}
\label{tab:UTC_012}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_012} \\ 
\hline
Type &  Functional, Automatic, Static  \\ 
\hline
Initial State & -\\ 
\hline
Input &  100 satellite images of parking lots are fed into the Vision App's parking lot segmentation feature.\\ 
\hline
Output &  Measure the accuracy of the segmentation. \\ 
\hline
How test will be performed & The test will be through a special unit testing script. The script should hardcode the image to be a satellite image of a parking lot, run the algorithm, and record the result in some kind of table. \\ 
\hline
Test case derivation & 100 images were selected because they are an ample testing size.  \\ 
\hline
Requirements & \nameref{GEN_001} \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsubsection{Mapper App}

The purpose of the Mapper App is to verify the ability of the drone to create an occupancy map. Unit testing the Mapper App requires a verified and correct Vision App.

\begin{table}[!h]
\begin{center}
\caption {UTC\_013}
\label{tab:UTC_013}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_013} \\ 
\hline
Type &  Functional, Automatic, Static  \\ 
\hline
Initial State & Have the drone powered on. \\ 
\hline
Input & Feed a prerecorded video of the drone flying over a parking lot into the Vision App.  \\ 
\hline
Output &  Compare the final occupancy map to the actual occupancy map of the parking lot in the video. \\ 
\hline
How test will be performed &  The test will require writing a stub in the Vision App to use the prerecorded videos instead of live camera images.\\ 
\hline
Test case derivation &  The purpose of this test is to verify the occupancy map functionality. The Mapper App depends on the results of the Vision App. A sample video of the drone flying over a parking lot is fed into the vision app, by keeping the vision app outputs constant the test is repeatable. \\ 
\hline
Requirements &  \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsubsection{Path Plan App}
\label{PathPlanAppUnitTest}
There are no unit tests for the \nameref{Path Plan App} because it requires closed-loop testing. The \nameref{Path Plan App} suggests a subsequent path for exploration, assessing its performance requires the drone  to actually follows the suggested path at each time step (i.e. requires closed-loop testing in SITL or live with the drone). The \nameref{Path Plan App} is also a stretch goal, so it should be developed once all the other modules have been verified and tested. Thus \nameref{tab:STC_016} can be used as a test case for developing the \nameref{Path Plan App}. 



\subsubsection{Drone Decision and Control Hiding}

The purpose of this module is to verify the Drone Decision and Control Module. It is an intermediate module that is designed to verify the highly-coupled leaf modules Operation States, Operations Manager, and Main DDC Module. The unit tests are representative because they cover all possible Operation states (but not all transitions). Many of the system tests can be turned into Unit tests by hard-coding the outputs of other modules (such as User Interface, Vision App, etc.). The unit tests are also conducted in SITL, as testing outdoors with the real drone would require the Hardware Hiding module (and thus be a system/integration test).

\begin{table}[!h]
\begin{center}
\caption {UTC\_014}
\label{tab:UTC_014}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_014} \\ 
\hline
Type &  Functional, Automatic, Static  \\ 
\hline
Initial State & The drone is in the Idle State. \\ 
\hline
Input &  Send a user command to configure the height parameters to \ref{Min_Hover_Params}. \\ 
\hline
Output &  The height parameters stored in the 'Params.txt' file should be \ref{Min_Hover_Params}. The height parameters of the drone should also be \ref{Min_Hover_Params}. \\ 
\hline
How test will be performed & A stub will need to be written in the Message Socket to mimic as if the user wants the height parameters to be set (e.g. MessageSocket should return "\{'Type':'Configure', 'Min':7m, 'Des':7m, 'Max':7m\}". A stub will need to be written to print the height parameters of the drone and the current state to the console.\\ 
\hline
Test case derivation & A height configure command should make the drone enter the Configure state, which changes the height parameters of the drone. 'Params.txt' is a file used to permanently store the height parameters, so that they can be used the next time the drone boots up. \\ 
\hline
Requirements & \nameref{STA_004}, \nameref{GEN_003}, \nameref{TRANS_003}, \nameref{TRANS_015} \\ 
\hline
\end{tabular}
\end{center}
\end{table}


\begin{table}[!h]
\begin{center}
\caption {UTC\_015}
\label{tab:UTC_015}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_015} \\ 
\hline
Type &  Functional, Automatic, Static  \\ 
\hline
Initial State & The drone is in the Idle State. \\ 
\hline
Input &  Send a user command to arm the drone, takeoff, move 5m to the left, and finally land at the original launch location. \\ 
\hline
Output &  The drone should arm, takeoff to the maximum hover height, move 5m left, and then land at the original location. \\ 
\hline
How test will be performed & A stub will need to be written in the Message Socket to mimic as if the user wants the drone to arm, takeoff, move left 5m, and then land (e.g. MessageSocket should chronologically return "\{'Type':'Arm'\}", "\{'Type':'Takeoff'\}", "\{'Type':'Compulsive Move', 'X':-5, 'Y':0 \}", and "\{'Type':'Land'\}"). Although the drone can be monitored by the SITL window, a stub can also be written to print the current drone location, the current state, and the current altitude to the console.\\ 
\hline
Test case derivation &  The test case is designed to make the drone enter the Arm, Takeoff, Hover, Compulsive Move, and Land states. It, therefore, verifies the behavior of each of the states.\\ 
\hline
Requirements & \nameref{STA_000}, \nameref{STA_001}, \nameref{STA_004}, \nameref{STA_011}, \nameref{STA_012}, \nameref{STA_013}, \nameref{TRANS_003}, \nameref{TRANS_009}, \nameref{TRANS_012}, \nameref{TRANS_013}, \nameref{TRANS_014} \\ 
\hline
\end{tabular}
\end{center}
\end{table}


\begin{table}[!h]
\begin{center}
\caption {UTC\_016}
\label{tab:UTC_016}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_016} \\ 
\hline
Type &  Functional, Automatic, Static  \\ 
\hline
Initial State & The drone is in the Idle State. \\ 
\hline
Input &  Send a user command to arm the drone and takeoff. \\ 
\hline
Output &  The drone should arm and take off. After a sufficient amount of time, the battery level will decrease below 20\% capacity, at which point the drone enters the malfunction state and lands.  \\ 
\hline
How test will be performed & A stub will need to be written in the Message Socket to mimic as if the user wants the drone to arm and takeoff (e.g. MessageSocket should chronologically return "\{'Type':'Arm'\}" and "\{'Type':'Takeoff'\}"). Although the drone can be monitored by the SITL window, a stub can also be written to print the current drone location, the current state, and the current altitude to the console.\\ 
\hline
Test case derivation &  The test case is designed to verify the Malfunction state. \\ 
\hline
Requirements & \nameref{STA_009}, \nameref{SR_007}, \nameref{SR_011} \\ 
\hline
\end{tabular}
\end{center}
\end{table}


\begin{table}[!h]
\begin{center}
\caption {UTC\_017}
\label{tab:UTC_017}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_017} \\ 
\hline
Type &  Functional, Automatic, Static  \\ 
\hline
Initial State & The drone is in the Idle State. \\ 
\hline
Input &  Hardcode the Message Socket to be disconnected once the drone takeoffs. \\ 
\hline
Output &  The drone should arm and take off. After a sufficient amount of time, when the Message Socket is hardcoded to be disconnected, the drone should enter the Communication Lost state and land.\\  
\hline
How test will be performed & A stub will need to be written in the Message Socket to arm the drone, takeoff the drone, and then disconnect. Although the drone can be monitored by the SITL window, a stub can also be written to print the current drone location, the current state, and the current altitude to the console.\\ 
\hline
Test case derivation &  The test case is designed to verify the Malfunction state. \\ 
\hline
Requirements & \nameref{STA_010}, \nameref{TRANS_010} \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\begin{table}[!h]
\begin{center}
\caption {UTC\_018}
\label{tab:UTC_018}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_018} \\ 
\hline
Type &  Functional, Automatic, Static  \\ 
\hline
Initial State & The drone is in the Idle State. \\ 
\hline
Input &  Arm and takeoff the drone. Then send a user command to enter the autonomous explore state while no parking lot is detected. \\ 
\hline
Output &  After the drone takes off, it should enter the No Parking Lot Detected Error State.\\  
\hline
How test will be performed & A stub will need to be written in the Message Socket to arm the drone, takeoff, and then request the autonomous explore feature (e.g. MessageSocket should chronologically return "\{'Type':'Arm'\}", "\{'Type':'Takeoff'\}", and "\{'Type':'Autonomous Explore'\}"). The Vision App will need a stub to constantly publish "No Parking Lot Detected" on the Algorithm Topic Interface. Although the drone can be monitored by the SITL window, a stub can also be written to print the current drone location, the current state, and the current altitude to the console.\\ 
\hline
Test case derivation &  The test case is designed to verify the No Parking Lot Detected Error state. This state is entered when the user requests an autonomous explore operation but no parking lot is detected. \\ 
\hline
Requirements & \nameref{STA_008}, \nameref{TRANS_008} \\ 
\hline
\end{tabular}
\end{center}
\end{table}


\begin{table}[!h]
\begin{center}
\caption {UTC\_019}
\label{tab:UTC_019}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_019} \\ 
\hline
Type &  Functional, Automatic, Static  \\ 
\hline
Initial State & The drone is in the Idle State. \\ 
\hline
Input &  Arm and takeoff the drone. The Vision App should constantly be returning parking lot detected while the path planning algorithm should suggest a path of 5m to the left. \\ 
\hline
Output &  After the drone takes off, it should enter the Autonomous Explore state and begin to move left 5m.\\  
\hline
How test will be performed & A stub will need to be written in the Message Socket to arm the drone and then takeoff. The Vision App will need a stub to constantly publish "Parking Lot Detected" on the Algorithm Topic Interface. The Mapper App will need a stub to constantly publish a suggested exploration path of 5m left.  Although the drone can be monitored by the SITL window, a stub can also be written to print the current drone location, the current state, and the current altitude to the console.\\ 
\hline
Test case derivation &  The test case is designed to verify the Autonomous Explore state. This state is entered when automatically when the drone is hovering and detects a parking lot. \\ 
\hline
Requirements & \nameref{STA_003}, \nameref{TRANS_004} \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsubsection{DDC Topic Interface}

The Topic interface contains numerous functions to receive and publish data, as such only a single-topic subscription and single-topic publishing are tested.

\begin{table}[!h]
\begin{center}
\caption {UTC\_020}
\label{tab:UTC_020}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_020} \\ 
\hline
Type &  Functional, Automatic, Static  \\ 
\hline
Initial State & The drone is powered on. \\ 
\hline
Input & Use the state publisher (currStatePub) to publish "Unit test 101". Turn the drone counterclockwise. \\ 
\hline
Output &  "Unit test 101" should be published on the currStatePub topic. Using the compass in a smartphone, the DDC Topic Interface's reading of the compass values should roughly match the readings of the smartphone. \\ 
\hline
How test will be performed & Write a stub to print out the orientation recorded by the DDC Topic Interface (part of the local pose struct). The string being published on currStatePub can be monitored in a console, by using ROS's command line interface for subscribing to and printing data being published to a topic. \\ 
\hline
Test case derivation & The purpose of this test is to verify the DDC Topic Interface \\ 
\hline
Requirements &  \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsubsection{Algorithm Topic Interface}

The Topic interface contains numerous functions to receive and publish data, as such only a single-topic subscription and single-topic publishing are tested.

\begin{table}[!h]
\begin{center}
\caption {UTC\_021}
\label{tab:UTC_021}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_021} \\ 
\hline
Type &  Functional, Automatic, Static  \\ 
\hline
Initial State & The drone is powered on. \\ 
\hline
Input & Use the vision app health publisher (visionAppHealth) to publish True. Publish "Unit test 101" on the "current state" topic, and print the drone state being read by the Topic Interface to the console. \\ 
\hline
Output &  "Unit test 101" should be printed to the console. The visionAppHealth topic should be publishing True. \\ 
\hline
How test will be performed & The string "Unit Test 101" can be published on the current state topic using ROS's command line interface for publishing data to a topic.
Write a stub to print out the current state recorded by the Algorithm Topic Interface to the console.  \\ 
\hline
Test case derivation & The purpose of this test is to verify the Algorithm Topic Interface \\ 
\hline
Requirements &  \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsubsection{DDC Service Interface}

The Service interface contains routines to call five services, all four are tested in the following unit test. The test is performed in SITL.

\begin{table}[!h]
\begin{center}
\caption {UTC\_022}
\label{tab:UTC_022}
\begin{tabular}{ | m{3.2cm} | m{12.2cm} | } 
\hline
ID & \nameref{tab:UTC_022} \\ 
\hline
Type &  Functional, Automatic, Static  \\ 
\hline
Initial State & The drone is in the Idle state. \\ 
\hline
Input & Call each of the service routines to set the RtlAlt to 10m, call the mode service to set the mode to "Guided", call the arm service to arm the drone, call the takeoff service to takeoff the drone, and then call the landing service (using the callService_TypeCommand routine). \\ 
\hline
Output &  The drone should takeoff the ground to a height of 10m, and then lands. \\ 
\hline
How test will be performed & A unit testing script must be written to create a service interface object and then call each of the routines in the Input section in the chronological order it specified.\\ 
\hline
Test case derivation & The purpose of this test is to verify all of the service interface routine. \\ 
\hline
Requirements &  \\ 
\hline
\end{tabular}
\end{center}
\end{table}

\clearpage

\subsection{Traceability Between Test Cases and Modules}
This section summarizes the traceability between Test Cases and Modules, see Table \ref{tab:traceTC_Module}. 


\begin{table}[!h]
\begin{center}
\caption {Traceability Between Test Cases and Modules}
\label{tab:traceTC_Module}
\begin{tabular}{ | m{5cm} | m{10cm} | }
\hline
Hardware Hiding & \nameref{tab:UTC_001}, \nameref{tab:UTC_002}, \nameref{tab:UTC_003}, \nameref{tab:UTC_004} \\
\hline
Operator Camera & \nameref{tab:UTC_005}\\
\hline
Drone Camera &  \nameref{tab:UTC_006}\\
\hline
Message Socket &  \nameref{tab:UTC_007}\\
\hline
Interface Hiding &  \nameref{tab:UTC_008}, \nameref{tab:UTC_009}, \nameref{tab:UTC_010}\\
\hline
Vision App &  \nameref{tab:UTC_011}, \nameref{tab:UTC_012}\\
\hline
Mapper App &  \nameref{tab:UTC_013}\\
\hline
Drone Decision and Control Hiding &  \nameref{tab:UTC_014}, \nameref{tab:UTC_015}, \nameref{tab:UTC_016}, \nameref{tab:UTC_017}, \nameref{tab:UTC_018}, \nameref{tab:UTC_019} \\
\hline
DDC Topic Interface &  \nameref{tab:UTC_020}\\
\hline
Algorithm Topic Interface &  \nameref{tab:UTC_021}\\
\hline
DDC Service Interface &  \nameref{tab:UTC_022}\\
\hline

\end{tabular}
\end{center}
\end{table}		

\clearpage

\bibliographystyle{plainnat}

\bibliography{../../refs/References}

\newpage

\section{Appendix}

This is where you can place additional information.

\subsection{Symbolic Parameters}

The definition of the test cases will call for SYMBOLIC\_CONSTANTS.
Their values are defined in this section for easy maintenance.

\MakeRobust{\ref}% avoid expanding it when in a textual label

\makeatletter
\newcommand{\labeltext}[2]{%
  \@bsphack
  \csname phantomsection\endcsname % in case hyperref is used
  \def\@currentlabel{#1}{\label{#2}}%
  \@esphack
}
\makeatother
\begin{table}[!h]
\begin{center}
\caption {Symbolic Constants}
\label{tab:symbolic_constants}
\begin{tabular}{ | m{5cm} | m{8cm} | } 
\hline
ID & \nameref{tab:symbolic_constants} \\ 
\hline
Invalid_Hover_Params1\labeltext{Invalid_Hover_Params1}{Invalid_Hover_Params1} & (i\_MinHoverHeight=1m, i\_-MaxHoverHeight=1m, i\_DesiredHoverHeight=1m) \\ 
\hline
Invalid_Hover_Params2\labeltext{Invalid_Hover_Params2}{Invalid_Hover_Params2} & (i\_MinHoverHeight=8m, i\_-MaxHoverHeight=7m, i\_DesiredHoverHeight=6m) \\ 
\hline
Min_Hover_Params\labeltext{Min_Hover_Params}{Min_Hover_Params} & (i\_MinHoverHeight=7m, i\_-MaxHoverHeight=7m, i\_DesiredHoverHeight=7m) \\ 
\hline
Med_Hover_Params\labeltext{Med_Hover_Params}{Med_Hover_Params} & (i\_MinHoverHeight=20m, i\_-MaxHoverHeight=20m, i\_DesiredHoverHeight=20m) \\ 
\hline
Indoor_Hover_Params\labeltext{Indoor_Hover_Params}{Indoor_Hover_Params} & 
(i\_MinHoverHeight=1m, i\_-MaxHoverHeight=1m, i\_DesiredHoverHeight=1m) \\
\hline
\end{tabular}
\end{center}
\end{table}

\newpage{}
\subsection{Reflection}
This section reviews the roles mentioned in Table \ref{VnV_Team} and evaluates each team member on the graduate attribute of Lifelong Learning. 

  
\begin{table}[!h]
\begin{center}
\caption {Required Testing}
\label{RequiredTesting}
\begin{tabular}{ | m{3cm} | m{3cm} | m{8cm} | }
\hline
Test & Responsibility & Rationale\\
\hline
Dynamic Testing & Fady, Muhammad, Zaid \& Winnie & Dynamic testing is vital, especially for flying a drone. Dynamic testing is executing test cases in variable environments to analyze how the system behaves.\\
\hline
Integration Testing & Muhammad & Integration testing is important as it will test different units, modules, or components of the drone as a combined entity.\\
\hline
Static Testing & Fady, Muhammad \& Winnie & Static testing involves matching the requirements from the SRS to the code written. Static testing also involves looking into code format and errors. \\
\hline
 Visual Perception and Path Planning Testing & Fady & Verifies that the visual perception and autonomous exploration algorithm is performing within specifications. \\
\hline
Drone Finite State Machine (FSM) and Communication Testing & Ali & Verifies that all communication between the drone components and the drone to the Operator's application is working correctly. \\
\hline
Mechanical Testing & Zaid & Verifies that all physical components and the dynamics are working within specifications. \\
\hline
Operator's Application Testing & Winnie & Verifies that the Operator's application and user manual meet the specifications outlined.
\\
\hline
\end{tabular}
\end{center}
\end{table}

\subsubsection{Knowledge \& Skills}
Table \ref{KnowledgeTable} covers different approaches to follow the plan from Table \ref{RequiredTesting}.

\begin{table}[!h]
\begin{center}
\caption {Knowledge Acquisition}
\label{KnowledgeTable}

\begin{tabular}{ | m{3cm} | m{7cm} | m{4cm} | }

\hline
Test & Approaches & Verdict \\
\hline
Dynamic Testing & 
Approach 1: Previous lecture notes from McMaster's MECHTRON 3K04: Software Development. \newline Approach 2: Research online and watch tutorials such as \href{https://www.youtube.com/watch?v=ePMjdL4PE5M}{this video} on YouTube.\newline Approach 3: Research online and find resources for mechanical static testing such as \href{https://www.sciencedirect.com/topics/materials-science/dynamic-mechanical-analysis}{this}.& Fady, Muhammad \& Winnie will proceed with Approach 2 as MECHTRON 3K04 did not go in-depth with Static Testing. Zaid will proceed with Approach 3 for Mechanical Testing.  \\
\hline
Integration Testing & 
Approach 1: Previous lecture notes from McMaster's MECHTRON 3K04: Software Development. \newline Approach 2: Research online resources such as \href{https://www.simplexitypd.com/blog/five-tips-for-mechatronic-system-integration}{this website}. & Muhammad will proceed with Approach 2 to get more knowledge with Integration Testing as the MECHTRON 3K04 course did not get in-depth with the subject. \\
\hline
Static Testing & 
Approach 1: Previous lecture notes from McMaster's MECHTRON 3K04: Software Development \newline Approach 2: Research online and find resources for static testing such as \href{https://www.guru99.com/testing-review.html}{this website}. & Fady, Muhammad \& Winnie will proceed with Approach 1 as Static Testing was done extensively in the MECHTRON 3K04 Pacemaker project.\\
\hline
 Visual Perception and Path Planning Testing & Approach 1: Watch McMaster's Google Developer's Club \href{https://www.youtube.com/watch?v=Zrw5eCfnSOM}{video} on YouTube to learn more about the OpenCV library complementing ENG 1D04: Engineering Computation.  \newline Approach 2: Use OpenCV \href{https://docs.opencv.org/4.x/d9/df8/tutorial_root.html}{tutorial documentation}. & Fady will proceed with Approach 1 as the tutorial was done at McMaster by McMaster students going through the fundamentals of OpenCV.\\
\hline
Drone Finite State Machine (FSM) and Communication Testing & 
Approach 1: Previous lecture notes from McMaster's MECHTRON 3K04: Software Development \newline Approach 2: Use \href{http://wiki.ros.org/smach}{ROS.org documentation} on ROS' library SMACH to learn more about the FSM implementation. & Muhammad will proceed with Approach 2 to get familiar with the SMACH library which will be more relevant for drone development.\\
\hline
\end{tabular}
\end{center}
\end{table}

  
\begin{table}[!h]
\begin{center}
\label{KnowledgeTableB}

\begin{tabular}{ | m{3cm} | m{7cm} | m{4cm} | }

\hline
Test & Approaches & Verdict \\

\hline
Mechanical Testing & Approach 1: Previous lecture notes from McMaster's ENG 1C03: Engineering Design \& Graphics \newline Approach 2: Watch \href{https://www.youtube.com/watch?v=YmMDhzXitn0}{SolidWorks' basic tutorial}.& Zaid will use Approach 2 to get familiar with SolidWorks.\\  
\hline
Operator's Application Testing & Previous lecture notes from McMaster's MECHTRON 1D04: Engineering Computation  to understand the language of the application. \newline Approach 2: Use \href{https://docs.python.org/3/tutorial/}{Python Documentation} and other online resources to understand Python syntax. & Winnie will proceed with Approach 1 as ENG 1D04 had covered Python extensively.\\
\hline


\end{tabular}
\end{center}
\end{table}

\end{document}