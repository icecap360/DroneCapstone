\documentclass[12pt]{article}

%packages
\usepackage{fullpage}
\usepackage[round]{natbib}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{graphicx}
\usepackage{float}
\usepackage{xr}
\usepackage{xr-hyper}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    citecolor=blue,
    filecolor=black,
    linkcolor=red,
    urlcolor=blue
}

\usepackage[round]{natbib}
\usepackage{longtable}
\usepackage[utf8]{inputenc}
\usepackage{amsmath, mathtools}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{colortbl}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{siunitx}
\usepackage{caption}
\usepackage{pdflscape}
\usepackage{afterpage}
\usepackage{seqsplit}
\usepackage{underscore}
\usepackage{lscape}
\usepackage[english]{babel}
\usepackage[T1]{fontenc}
\usepackage{nameref}
\usepackage{enumitem}
\usepackage{gensymb}
\usepackage{array}

%external documents
\input{../Comments}
\input{../Common}

%main document
\begin{document}

\title{User Manual}
\author{\authname}
\maketitle
\label{userManual}

\begin{center}
Version 1.0    
\end{center}

\newpage

\tableofcontents

\listoftables

%\listoffigures

\newpage

\section{Introduction}

ParkingLotHawk is an aerial drone that will fly above the parking lot to gather information about slot availability and general parking lot status. The parking lot authorities will be able to access and visualize this information from an application on their Personal Computers (PCs). They will command the ParkingLotHawk only through an application running on their PC. The drone will be able to stabilize and move to different locations autonomously. Thus from the PC application, the operator will be able to launch or land the drone, after which they can either let the drone mutinously investigate the entire parking lot or have the drone investigate specific sections of the parking lot

\section{Features}

\subsection{Hardware}

The drone used for ParkingLotHawk is custom made and a majority of its body consists of 3D printed parts. There are several parts used in the construction of the aerial drone, as described below:

\begin{itemize}
    \item Frame – A custom fabricated frame to house all of the other drone components.
    \item Battery Compartment – Separate compartment created to protect battery and maintain balance.
    \item Frame Arms (X4) – Removable arms built to facilitate repairs upon damage.
    \item Landing Legs (X4) – Removable legs built to facilitate repairs upon damage.
    \item GPS Mast – Elevate GPS 20cm above the drone components to help boost GPS signals.
    \item Enclosure – Closed space to house the electrical components and wiring.
    \item Top Plate – Mounting plate for electrical components.
    \item Dampening Plate – Mounts the drone components and reduces vibrations.
    \item Dampening Balls (X4) – Absorb vibrations.
    \item Propellor (X4) - Connects to DC Motors.
    \item Aluminum Foil Tape – Provides EM protection to reduce interference.
\end{itemize}

\subsection{Electrical}

In addition to the parts to build the drone, there are several key electrical components that are integrated to prepare for the drone operations. These include:

\begin{itemize}
    \item Raspberry Pi 3B – Main controller of the drone and responsible for software operations.
    \item Navio2 – Physical flight controller hardware, contains various sensors and interfaces with motors and batteries.
    \item Radio Antenna and Receiver – Not for operator use.
    \item Camera – Used to acquire visual data.
    \item Electronic Speed Controller – Controls motors upon receiving signals from Navio2.
    \item GPS – Acquire drone location.
    \item Brushless DC Motors (X4) – Spin propellors.
    \item LiPo Battery – Power the drone.
\end{itemize}

\subsection{Communication}

Lastly, to make the drone operate properly, there are various software components that ensure the communication of the drone internally and externally through the following:

\begin{itemize}
    \item ROS nodes – Communication between the internal processes on the drone.
    \item MavROS – Connect the flight controller with the drone software.
    \item Wifi – Connect the drone software and Operator’s application.
    \item GUI – Communicate between the Operator and Operator’s application
\end{itemize}

\section{Description of User Interface}


The user interface consists of two parts: Hardware Interface and Software Interface. The Hardware Interface will be limited in order to minimize damage to the product from improper handling, as well as decrease any technical experience required by the operator. The only Hardware Interface present is the disconnecting and reconnecting of the battery to the drone, and the mechanical On/Off switch. \\\

The Software User Interface for ParkingLotHawk is used to control the drone from the operator’s console. It starts with a Login Window that requests for username and password. It displays an error message if the credentials do not match. Once the operator successfully logs in, the operator is presented with two windows as described below. \\\

The first window is the User Interface where the operator can view the location of the drone on the map and various information related to the drone. The information on the drone is displayed at the top of the window. There is also a logs window which displays the program status or any changes that occur in the software at the bottom. The operator can control the configurations for the drone start-up from the left section of the window. The central map displayed in the window displays the current GPS position of the drone. It also allows the user to direct the drone's flight path via mouse-click from point A (drone position) to point B (drone destination), and trace its movement. \\\

The second window, displays the camera visuals and the occupancy map of the entire parking lot that is currently being explored by the drone. There exists a sliding divider in the center which displays the visual images from the camera on the left and the parking lot occupancy on the right, with the status of the parking spots being constantly updated by the drone's sensors.

\section{Installation Instructions}

In order to help the user control the drone, the User Interface package will be provided within a small storage device that will help install the required software components after launching it on the PC. In case of missing installation device, the user can also refer to the online link provided or contact the selected individuals under Section \ref{sec:Contact}

\section{Description of operation}

There are many objects that are used during the operation of the User Interface application, with the major ones being focused on in the \nameref{tab:UserInterfaceObjects} table.

\begin{longtable}{| p{4cm} | p{4cm} | p{7cm} |}
\caption {User Interface Objects}
\label{tab:UserInterfaceObjects} \\
\hline
\textbf{Name} & \textbf{Object Type} & \textbf{Description} \\
\hline
\endhead
Username & Line Textbox & Allow user to input username. \\
\hline
Password & Line Textbox & Allow user to input password. \\
\hline
Login & Button & Enable user to login and access main application. \\
\hline
Logo & Label & Display Logo. \\
\hline
Connection & Label & Display Wifi connection Status. \\
\hline
Drone State & Label & Display the current state of the drone; whether it’s still or in motion. \\
\hline
Drone Health & Label & Display any software issues or physical issues of the drone. \\
\hline
Altitude & Label & Display the Drone’s altitude from the ground. \\
\hline
Battery & Progress Bar & Display the drone's battery status through the progress bar. \\
\hline
Logs & Textbox & Display the logs sent from the drone within a certain interval within the logs textbox. \\
\hline
Minimum Hover Height & Spin Box & Adjust the minimum hover height for the drone using the spinbox. \\
\hline
Desired Hover Height & Spin Box & Adjust the desired hover height for the drone using the spinbox. \\
\hline
Maximum Hover Height & Spin Box & Adjust the maximum hover height for the drone using the spinbox. \\
\hline
Connect & Button & Click to connect to the drone. \\
\hline
Configuration & Button & Click to configure drone height. \\
\hline
Take-off & Button & Click to Launch the drone. \\
\hline
Arm & Button & Click to startup the drone. \\
\hline
Autonomous Explore & Button & Click to automatically explore from the drone within the surroundings. \\
\hline
Compulsive Move & Button & Click for allowing user to control the  drone’s movement. \\
\hline
Autonomous Move & Button & Click to have the drone move automatically. \\
\hline
Land & Button & Click to land the drone. \\
\hline
Map & Web Engine Widget & Displays an online map that should have the ability to interact with the movement path of the drone. \\
\hline
Camera & Input & Display the visuals from the camera mounted in the drone. \\
\hline
Occupancy Map & Input & Display the status of the parking spots within the parking lot through the drone. \\
\hline
\end{longtable}

\section{Safety}

In order to protect the safety of the user, the drone, and the user interface, various safety procedures need to be performed, as per the following:

\begin{itemize}
    \item Perform a visual inspection for damages before each use to prevent any impact to the drone's performance.
    \item Check the drone's estimated remaining battery life for its expected duration of operation.
    \item Test both the primary and secondary sensors for localization. As long as the secondary sensors work, the product can still function.
    \item Test both the redundant and primary method for determining height. As long as the redundant method works, the product can still land safely.
    \item Check the current environment conditions to determine whether the product can be allowed to operate.
    \item Upon entering into the Malfunction States, inform the Operator through the Operator’s application if the product and application can successfully communicate.
    \item Test the GPS and its secondary localization method to ensure that the product can still operate in case the GPS malfunctions.
    \item Display a segmented image of the parking lot vs non-parking lot to the Operator’s application to determine the product’s perception of its environment.
    \item Read instructions provided on how to hold the product properly to prevent self-harm or damage the product through incorrect use.
    \item Test whether the drone automatically return to its original launch location and land once the estimated battery time is less than 1.5 minutes.
    \item Test whether the product can inform the battery capacity before launch. If it is estimated to be less than 3 minutes of flight, it will prevent launch of the product.
    \item The Operator’s login password shall be sufficiently complex to ensure safety against malicious users.
    \item Test the lowest height the drone hovers to check if it encounters any obstacles from the given height.
    \item Check if all the functions in the UI are properly functioning when the product is not in Off State to detect malfunctions.
    \item Test if the drone causes any distraction or operates properly when facing obstacles or individuals in the parking lot.
    \item Check if the mechanical Off switch is working in order to ensure that the product can be turned off even in the case of electronic failures, and can double as a kill switch.
    \item Keep a proper distance from the drone and do not attempt to hold it when it's in On State to prevent physical injuries.
\end{itemize}

\section{Maintenance}

Every moment, before the product is used to accomplish its tasks, it will need to be evaluated. Given below are a few methods to keep check if the drone is properly functioning before each use:

\begin{itemize}
    \item The user should let the product be recharged for 1 hour to maintain the availability of the product to the maximum.
    \item The user should visually inspect the drone for any damages.
    \item The user should determine if the product can sustain itself in wet environments, which ensures that the product will not be damaged.
\end{itemize}

\section{Repair}

In case of any damage to the product, the user can refer to Warranty in Section \ref{sec:Warranty}.

\section{Technical Specifications}

There are many details on the design of the drone and its various components. The user only needs to know the following specifications to have a better understanding of the drone's design:

\begin{longtable}{| c | c |}
\caption {Technical Specification}
\label{tab:TechnicalSpecifications} \\
\hline
Frame Size & 210mm \\
\hline
Prop Size & 5 inch \\
\hline
LiPo Battery & 1000 - 1300mAh 3s/4s \\
\hline
Motor KV & 2300KV - 2700KV \\
\hline
Motor Stator Size & 2204 - 2206 \\
\hline
Weight without Battery & 250g - 450g \\
\hline
\end{longtable}

%\section{Glossary}

\section{Warranty} \label{sec:Warranty}

The group will ensure that any damages that have occurred to the product and/or its application will be repaired free of charge within 6 months after the product's purchase. The user is required to contact the group under Section \ref{sec:Contact} upon any damages and have it shipped personally.

\section{Contact} \label{sec:Contact}

The following individuals can be contacted through username on email (Ex.: \textit{username}@mcmaster.ca):

\begin{longtable}{| c | c |}
\caption {Group Contact}
\label{tab:Contact} \\
\hline
\textbf{Name} & \textbf{Username} \\
\hline
\endhead
Fady Zekry Hanna & zekryhf \\
\hline
Winnie Trandinh & trandinh \\
\hline
Muhammad Ali & alim102 \\
\hline
Muhammad Khan & khanm120 \\
\hline
\end{longtable}

\end{document}
